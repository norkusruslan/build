System.register("chunks:///_virtual/Action.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,i,o;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n.Eventify,o=n.Component}],execute:function(){e._RF.push({},"6c19fSbDvhFN70ss0ueXvZ3","Action",void 0);n("Action",function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e}(i(o)));e._RF.pop()}}}));

System.register("chunks:///_virtual/ad_event.ts",["cc"],(function(E){var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"b8d97AYFkhPf7LHlB3L3ioX","ad_event",void 0);E("PrerollAdEvent",function(E){return E.AD_BREAK_DONE="H5GA_EVENT_PREROLL_AD_BREAK_DONE",E}({})),E("InterstitialAdEvent",function(E){return E.BEFORE_AD="H5GA_EVENT_INTERSTITIAL_BEFORE_AD",E.AFTER_AD="H5GA_EVENT_INTERSTITIAL_AFTER_AD",E.AD_BREAK_DONE="H5GA_EVENT_INTERSTITIAL_AD_BREAK_DONE",E}({})),E("RewardedVideoAdEvent",function(E){return E.BEFORE_AD="H5GA_EVENT_REWARDED_VIDEO_BEFORE_AD",E.AFTER_AD="H5GA_EVENT_REWARDED_VIDEO_AFTER_AD",E.AD_BREAK_DONE="H5GA_EVENT_REWARDED_VIDEO_AD_BREAK_DONE",E.BEFORE_REWARD="H5GA_EVENT_REWARDED_VIDEO_BEFORE_REWARD",E.AD_DISMISSED="H5GA_EVENT_REWARDED_VIDEO_AD_DISMISSED",E.AD_VIEWED="H5GA_EVENT_REWARDED_VIDEO_AD_VIEWED",E}({}));_._RF.pop()}}}));

System.register("chunks:///_virtual/AdPlatform.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"63018zjyMNCrIFBx+i1jnON","AdPlatform",void 0);var o=n("AdPlatform",function(){function n(){}return n.redirectToStore=function(){var e=n.getAdInfo(),o=e.buildMachine,i=(e.platformType,e.link);o===n.buildTypes.LUNA?Luna.Unity.Playable.InstallFullGame():o===n.buildTypes.SUPER_HTML?(super_html.appstore_url=n.iosLink,super_html.google_play_url=n.androidLink,window.super_html.download()):window.open(i)},n.gameEnded=function(){if(n.hasGameEnded)console.warn("Do not call gameEnded more than once");else{n.hasGameEnded=!0;var e=n.getAdInfo(),o=e.buildMachine,i=e.platformType;o===n.buildTypes.LUNA?Luna.Unity.LifeCycle.GameEnded():i===n.platformTypes.MINTEGRAL?window.gameEnd&&window.gameEnd():console.log("GameEnded")}},n.getAdInfo=function(){var e=n.buildTypes.NO_BUILD,o=n.platformTypes.DEVELOP;"Luna"in window?(e=n.buildTypes.LUNA,o=window.pi.env.adNetwork):window.super_html_channel&&(e=n.buildTypes.SUPER_HTML,o=window.super_html_channel);var i=navigator.userAgent||navigator.vendor,a=n.iosLink;return/android/i.test(i)&&(a=n.androidLink),{buildMachine:e,platformType:o,link:a}},n.logEvent=function(e){"Luna"in window?window.pi.logCustomEvent(e):n.getAdInfo().platformType===n.platformTypes.DEVELOP&&console.log(e)},n}());o.buildTypes={SUPER_HTML:"super-html",LUNA:"Luna",NO_BUILD:"No Build"},o.platformTypes={MINTEGRAL:"mintegral",UNITY:"unity",APPLOVIN:"applovin",GOOGLE:"google",VUNGLE:"vungle",IRONSOURCE:"ironsource",DEVELOP:"develop"},o.androidLink="",o.iosLink="",o.hasGameEnded=!1,e._RF.pop()}}}));

System.register("chunks:///_virtual/Audio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tracks.ts"],(function(t){var o,u,e,i,n,r,l,c,a,s;return{setters:[function(t){o=t.applyDecoratedDescriptor,u=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,l=t.AudioSource,c=t.tween,a=t.Component},function(t){s=t.Tracks}],execute:function(){var p,d,h,m,S,v,f,k,y,b,g,L,M,T,w,C;n._RF.push({},"7d08aIcQE9N+aJHv0V0x83t","Audio",void 0);var V=r.ccclass,O=r.property;t("Audio",(p=V("Audio"),d=O({type:s,tooltip:"Tracks"}),h=O(l),m=O(l),S=O(l),v=O(l),p(((C=function(t){function o(){for(var o,u=arguments.length,n=new Array(u),r=0;r<u;r++)n[r]=arguments[r];return o=t.call.apply(t,[this].concat(n))||this,e(o,"tracks",y,i(o)),e(o,"musicSource",b,i(o)),e(o,"soundSource",g,i(o)),e(o,"loopSource",L,i(o)),e(o,"soundOneShotSource",M,i(o)),e(o,"volumeMusic",T,i(o)),e(o,"volumeSound",w,i(o)),o.firstClickMuteMultiplier=0,o.muteMultiplier=1,o.currentMusicTrack=void 0,o.currentSoundTrack=void 0,o.currentLoopTrack=void 0,o.currentOneShotTrack=void 0,o}u(o,t);var n=o.prototype;return n.onLoad=function(){var t=this;if(o.instance=this,"Luna"in window){var u=Luna.Unity.Playground.get("LunaInspector","Music","fallback value"),e=Luna.Unity.Playground.get("LunaInspector","Sounds","fallback value");this.volumeMusic=u,this.volumeSound=e}function i(t){!!t?o.instance.unmute():o.instance.mute()}"undefined"!=typeof dapi?dapi.addEventListener("audioVolumeChange",i):"undefined"!=typeof mraid&&mraid.addEventListener("audioVolumeChange",i),"mute"in window&&i(window.mute),window.addEventListener("pointerdown",(function(){t.firstClickMuteMultiplier=1,t.applyVolumes()}),!1)},n.start=function(){this.applyVolumes()},n.PlaySound=function(t){var o=this.tracks.trackList.find((function(o){return o.trackName===t}));this.currentSoundTrack=o,this.soundSource.volume=this.calculateVolume(o.volumeClip,this.volumeSound),this.soundSource.clip=o.getAudioClip(),this.soundSource.play()},n.PlaySoundOneShot=function(t){var o=this.tracks.trackList.find((function(o){return o.trackName===t}));this.currentOneShotTrack=o,this.soundOneShotSource.volume=this.calculateVolume(o.volumeClip,this.volumeSound),this.soundOneShotSource.playOneShot(o.getAudioClip(),this.volumeSound)},n.PlayLoopBackground=function(t){var o=this.tracks.trackList.find((function(o){return o.trackName===t}));this.currentMusicTrack=o,this.musicSource.stop(),this.musicSource.volume=this.calculateVolume(o.volumeClip,this.volumeMusic),this.musicSource.clip=o.getAudioClip(),this.musicSource.play()},n.StopLoopBackground=function(){this.musicSource.stop()},n.PlayLoopSound=function(t){var o=this,u=this.tracks.trackList.find((function(o){return o.trackName===t}));this.currentLoopTrack=u,this.loopSource.stop(),c(this.loopSource).to(.5,{volume:this.calculateVolume(u.volumeClip,this.volumeSound)}).call((function(){o.loopSource.clip=u.getAudioClip(),o.loopSource.play()})).start()},n.StopLoopSound=function(){var t=this;c(this.loopSource).to(.5,{volume:0}).call((function(){t.loopSource.stop()})).start()},n.mute=function(){this.muteMultiplier=0,this.applyVolumes()},n.unmute=function(){this.muteMultiplier=1,this.applyVolumes()},n.applyVolumes=function(){void 0!==this.currentMusicTrack&&(this.musicSource.volume=this.calculateVolume(this.currentMusicTrack.volumeClip,this.volumeMusic)),void 0!==this.currentSoundTrack&&(this.soundSource.volume=this.calculateVolume(this.currentSoundTrack.volumeClip,this.volumeSound)),void 0!==this.currentLoopTrack&&(this.loopSource.volume=this.calculateVolume(this.currentLoopTrack.volumeClip,this.volumeSound)),void 0!==this.currentOneShotTrack&&(this.soundOneShotSource.volume=this.calculateVolume(this.currentOneShotTrack.volumeClip,this.volumeSound))},n.calculateVolume=function(t,o){return t*o*this.muteMultiplier*this.firstClickMuteMultiplier},o}(a)).instance=null,y=o((k=C).prototype,"tracks",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=o(k.prototype,"musicSource",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=o(k.prototype,"soundSource",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=o(k.prototype,"loopSource",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=o(k.prototype,"soundOneShotSource",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=o(k.prototype,"volumeMusic",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=o(k.prototype,"volumeSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),f=k))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioExample.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Audio.ts"],(function(t){var o,n,e,i,u,l,a,r,p,c,s;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){u=t.cclegacy,l=t._decorator,a=t.Sprite,r=t.Toggle,p=t.Node,c=t.Component},function(t){s=t.Audio}],execute:function(){var d,f,y,T,g,m,b,h,B,S,v,A,C,E,L;u._RF.push({},"c09d6aEsfNCU75365WSzCnm","AudioExample",void 0);var z=l.ccclass,_=l.property;t("AudioExample",(d=z("AudioExample"),f=_(a),y=_(a),T=_(a),g=_(a),m=_(a),b=_(r),d((S=o((B=function(t){function o(){for(var o,n=arguments.length,u=new Array(n),l=0;l<n;l++)u[l]=arguments[l];return o=t.call.apply(t,[this].concat(u))||this,e(o,"oneShotButton",S,i(o)),e(o,"loopButton",v,i(o)),e(o,"soundButton",A,i(o)),e(o,"stopLoopButton",C,i(o)),e(o,"stopMusicButton",E,i(o)),e(o,"muteToggle",L,i(o)),o}return n(o,t),o.prototype.start=function(){var t=document.getElementById("fullpage");null!==t&&(t.classList.add("fade-out"),setTimeout((function(){t.style.display="none"}),1e3)),s.instance.PlayLoopBackground("Done"),this.oneShotButton.node.on(p.EventType.TOUCH_START,(function(){s.instance.PlaySoundOneShot("Click")})),this.loopButton.node.on(p.EventType.TOUCH_START,(function(){s.instance.PlayLoopSound("Click")})),this.soundButton.node.on(p.EventType.TOUCH_START,(function(){s.instance.PlaySound("Click")})),this.stopLoopButton.node.on(p.EventType.TOUCH_START,(function(){s.instance.StopLoopSound()})),this.stopMusicButton.node.on(p.EventType.TOUCH_START,(function(){s.instance.StopLoopBackground()})),this.muteToggle.node.on("toggle",(function(t){t.isChecked?s.instance.mute():s.instance.unmute()}),this)},o}(c)).prototype,"oneShotButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=o(B.prototype,"loopButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=o(B.prototype,"soundButton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=o(B.prototype,"stopLoopButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=o(B.prototype,"stopMusicButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=o(B.prototype,"muteToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=B))||h));u._RF.pop()}}}));

System.register("chunks:///_virtual/AutoDestroy.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,o,n,i,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,u=t.Component}],execute:function(){var s,a,l;i._RF.push({},"2236cHBOZZCoYk9CnMe0eSe","AutoDestroy",void 0);var p=c.ccclass,f=c.property;t("AutoDestroy",p("AutoDestroy")((l=e((a=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,o(e,"time",l,n(e)),e}r(e,t);var i=e.prototype;return i.onLoad=function(){var t=this;this.scheduleOnce((function(){var e;null==(e=t.node)||e.destroy()}),this.time)},i.start=function(){},i.update=function(t){},e}(u)).prototype,"time",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),s=a))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/BaseButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenAnimation.ts","./AdPlatform.ts"],(function(t){var e,n,i,o,a,r,s,c,l,u,h,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,c=t.Button,l=t.Vec3,u=t.Component},function(t){h=t.TweenAnimation},function(t){f=t.AdPlatform}],execute:function(){var p,g,d,b,v,y,C,I;r._RF.push({},"9cb71wBLeZAc6Qyhni6L0rA","BaseButton",void 0);var S=s.ccclass,T=s.property;t("BaseButton",(p=S("BaseButton"),g=T(c),d=T({range:[0,100]}),p((y=e((v=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).CLICK_TIME=.1,i(e,"button",y,o(e)),i(e,"pushScalePercentage",C,o(e)),i(e,"eventText",I,o(e)),e.startScale=void 0,e.isLogged=void 0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.startScale=this.node.getScale().clone()},r.onEnable=function(){this.button.node.on(c.EventType.CLICK,this.onClicked,this)},r.onDisable=function(){this.button.node.off(c.EventType.CLICK,this.onClicked,this)},r.onClicked=function(){this.handleClickEffect(!1),this.logEventIfNecessary()},r.handleClickEffect=function(t){var e=this;this.node.setScale(this.startScale);var n=t?1+this.pushScalePercentage/100:1-this.pushScalePercentage/100,i=new l(this.startScale.x*n,this.startScale.y*n,this.startScale.z);h.scaleTo(this.node,i,this.CLICK_TIME,"sineIn",(function(){h.scaleTo(e.node,e.startScale,e.CLICK_TIME,"sineOut")}))},r.logEventIfNecessary=function(){!this.isLogged&&this.eventText.length>0&&(f.logEvent(this.eventText),this.isLogged=!0)},r.setInteractable=function(t){this.button.interactable=t},a(e,[{key:"getInteractable",get:function(){return this.button.interactable}}]),e}(u)).prototype,"button",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(v.prototype,"pushScalePercentage",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),I=e(v.prototype,"eventText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=v))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/BuildAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Particles.ts","./Audio.ts"],(function(e){var i,t,n,o,a,s,r,l,c,u,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.tween,l=e.Vec3,c=e.Component},function(e){u=e.Particles},function(e){h=e.Audio}],execute:function(){var p,m,d,f,k,y,g,b;a._RF.push({},"50aedng6hNMoJqc3gV7C7Xy","BuildAnimation",void 0);var v=s.ccclass,A=s.property;e("BuildAnimation",(p=v("BuildAnimation"),m=A(u),p((k=i((f=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return i=e.call.apply(e,[this].concat(a))||this,n(i,"shakeAmount",k,o(i)),n(i,"shakeTime",y,o(i)),n(i,"particlesDelay",g,o(i)),n(i,"particles",b,o(i)),i}t(i,e);var a=i.prototype;return a.build=function(e){this.shakeCamera(e)},a.shakeCamera=function(e){var i=this,t=e.node.position;r(e.node).delay(this.particlesDelay).call((function(){h.instance.PlaySound("Build"),i.particles.node.active=!0,i.particles.show(),0==i.shakeTime&&(i.node.active=!i.node.active)})).start(),0!=this.shakeTime&&r(e.node).to(.5*this.shakeTime,{position:new l(0,.5*this.shakeAmount,0)},{easing:"smooth"}).call((function(){i.node.active=!i.node.active})).to(.2*this.shakeTime,{position:new l(0,.3*-this.shakeAmount,0)},{easing:"smooth"}).to(.2*this.shakeTime,{position:new l(0,.2*this.shakeAmount,0)},{easing:"smooth"}).to(.2*this.shakeTime,{position:new l(0,.1*-this.shakeAmount,0)},{easing:"smooth"}).to(.1*this.shakeTime,{position:t},{easing:"smooth"}).start()},i}(c)).prototype,"shakeAmount",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3.5}}),y=i(f.prototype,"shakeTime",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.8}}),g=i(f.prototype,"particlesDelay",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=i(f.prototype,"particles",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/BulletController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Health.ts"],(function(t){var e,i,n,o,r,s,a,l,c,h,u,d,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Prefab,l=t.Node,c=t.Vec3,h=t.Quat,u=t.NodeSpace,d=t.instantiate,p=t.Component},function(t){f=t.Health}],execute:function(){var m,g,D,y,b,v,w,N;r._RF.push({},"abc67cGcOxMrahD4KJAGsbi","BulletController",void 0);var R=s.ccclass,_=s.property;t("BulletController",(m=R("BulletController"),g=_(a),D=_(l),m((v=e((b=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"speed",v,o(e)),n(e,"impactEffect",w,o(e)),e.TARGET_DESTROYED="target_destroyed",e.direction=new c,e.tempOffset=new c,e.tempQuat=new h,n(e,"targetNode",N,o(e)),e.minDistance=4,e._sqrMinDistance=0,e}i(e,t);var r=e.prototype;return r.onLoad=function(){var t=this;c.copy(this.direction,this.node.right),c.negate(this.direction,this.direction),this.rotateToDirection(),this.scheduleOnce((function(){var e;null==(e=t.node)||e.destroy()}),2)},r.start=function(){null!=this.targetNode&&(this._sqrMinDistance=this.minDistance*this.minDistance)},r.rotateToDirection=function(){h.fromViewUp(this.tempQuat,this.direction),this.node.setWorldRotation(this.tempQuat)},r.update=function(t){if((c.multiplyScalar(this.tempOffset,this.direction,this.speed*t),this.node.translate(this.tempOffset,u.WORLD),this.targetNode)&&c.squaredDistance(this.node.worldPosition,this.targetNode.worldPosition)<=this._sqrMinDistance){var e=this.targetNode.getComponent(f);if(null!=e){if(e.health=e.health-.05,e.health>0){var i=d(this.impactEffect);this.node.scene.addChild(i),i.setPosition(this.targetNode.getWorldPosition()),i.setWorldRotation(this.node.worldRotation),this.node.emit(this.TARGET_DESTROYED,this),this.node.destroy()}e.health<=0&&(this.targetNode=null)}}},e}(p)).prototype,"speed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),w=e(b.prototype,"impactEffect",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(b.prototype,"targetNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/BulletImpactEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,i,c,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.Vec3,c=t.Quat,r=t.Component}],execute:function(){var a;o._RF.push({},"2b9c1MsKvhP2onpfo7OiYQu","BulletImpactEffect",void 0);var u=n.ccclass;n.property,t("BulletImpactEffect",u("BulletImpactEffect")(a=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).direction=new i,e.tempOffset=new i,e.tempQuat=new c,e}e(o,t);var n=o.prototype;return n.onLoad=function(){i.copy(this.direction,this.node.right),i.negate(this.direction,this.direction),this.rotateToDirection()},n.start=function(){},n.update=function(t){},n.rotateToDirection=function(){c.fromViewUp(this.tempQuat,this.direction),this.node.setWorldRotation(this.tempQuat)},o}(r))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/BulletSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BulletController.ts","./Audio.ts","./Health.ts"],(function(t){var e,n,l,i,r,o,u,a,s,c,p,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,l=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,u=t.Prefab,a=t.Node,s=t.instantiate,c=t.Component},function(t){p=t.BulletController},function(t){f=t.Audio},function(t){h=t.Health}],execute:function(){var d,g,w,b,y,S,B,v,m,C;r._RF.push({},"e1211dwafxMaZqtQ6GWEk/3","BulletSpawner",void 0);var z=o.ccclass,N=o.property;t("BulletSpawner",(d=z("BulletSpawner"),g=N(u),w=N(u),b=N(a),d((B=e((S=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,l(e,"bulletType",B,i(e)),l(e,"gunEffect",v,i(e)),l(e,"spawnNode",m,i(e)),l(e,"isShooting",C,i(e)),e.target=null,e}n(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},r.spawnBullet=function(t){if(t.getComponent(h).health<=0)this.stopSpawningBullet();else{f.instance.PlaySoundOneShot("TurretGunShot");var e=s(this.gunEffect);this.spawnNode.addChild(e);var n=s(this.bulletType);n.getComponent(p).targetNode=t,this.spawnNode.addChild(n)}},r.startSpawningBullet=function(t,e){var n=this;null!=t&&this.schedule((function(){n.spawnBullet(t)}),e)},r.stopSpawningBullet=function(){this.unscheduleAllCallbacks(),this.target=null},e}(c)).prototype,"bulletType",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(S.prototype,"gunEffect",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(S.prototype,"spawnNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(S.prototype,"isShooting",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=S))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/BulletSpawnerTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BulletSpawner.ts"],(function(e){var t,n,r,l,i,a,u,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,u=e.Component},function(e){o=e.BulletSpawner}],execute:function(){var c,p,s,f,w;i._RF.push({},"04e4fqvRdJNBZrPTXGiBlMU","BulletSpawnerTest",void 0);var B=a.ccclass,y=a.property;e("BulletSpawnerTest",(c=B("BulletSpawnerTest"),p=y(o),c((w=t((f=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"bulletSpawner",w,l(t)),t}n(t,e);var i=t.prototype;return i.start=function(){},i.update=function(e){},i.spawnBullet=function(){},t}(u)).prototype,"bulletSpawner",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=f))||s));i._RF.pop()}}}));

System.register("chunks:///_virtual/CameraAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenAnimation.ts"],(function(t){var e,i,n,o,r,a,s,c,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Quat,c=t.Vec3,u=t.Component},function(t){l=t.TweenAnimation}],execute:function(){var m,p,f,h,d;r._RF.push({},"79245dQ6pNOCpVHY7zO2yOD","CameraAnimation",void 0);var y=a.ccclass,b=a.property;t("CameraAnimation",y("CameraAnimation")((f=e((p=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"animationTime",f,o(e)),n(e,"distance",h,o(e)),n(e,"rotate",d,o(e)),e}i(e,t);var r=e.prototype;return r.rotateTo=function(){var t=s.fromEuler(new s,this.rotate.x,this.rotate.y,this.rotate.z);l.rotateTo(this.node,t,this.animationTime,"sineOut")},r.zoomOut=function(){l.moveTo(this.node,new c(this.node.getWorldPosition().x,this.node.getWorldPosition().y,this.node.getWorldPosition().z+this.distance),this.animationTime,"sineOut")},e}(u)).prototype,"animationTime",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),h=e(p.prototype,"distance",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),d=e(p.prototype,"rotate",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0)}}),m=p))||m);r._RF.pop()}}}));

System.register("chunks:///_virtual/CameraFollow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenAnimation.ts"],(function(t){var o,e,i,n,r,l,a,s,d,p,u;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Node,s=t.Quat,d=t.Vec3,p=t.Component},function(t){u=t.TweenAnimation}],execute:function(){var h,c,f,w,g,m,b,R,y,P,F,T;r._RF.push({},"0d2429AKFZGOrsl2S1rlesM","CameraFollow",void 0);var v=l.ccclass,W=l.property;t("CameraFollow",(h=v("CameraFollow"),c=W([a]),f=W(a),h((m=o((g=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return o=t.call.apply(t,[this].concat(r))||this,i(o,"followOffset",m,n(o)),i(o,"animationTime",b,n(o)),i(o,"rotationSpeed",R,n(o)),i(o,"followSpeed",y,n(o)),i(o,"isFollow",P,n(o)),i(o,"stopPoints",F,n(o)),i(o,"target",T,n(o)),o.targetRotation=new s,o.tempNode=new a,o.shouldUpdateRotation=!1,o}e(o,t);var r=o.prototype;return r.lateUpdate=function(t){if(null!=this.target&&!1!==this.isFollow){var o=this.node.getWorldPosition(),e=this.target.getWorldPosition(),i=e.clone().add(this.followOffset);if(this.node.worldPosition=d.lerp(new d,o,i,this.followSpeed),this.shouldUpdateRotation){this.tempNode.worldPosition=this.node.getWorldPosition(),this.tempNode.lookAt(e);var n=this.tempNode.getWorldRotation(),r=this.node.getWorldRotation();s.slerp(this.targetRotation,r,n,this.rotationSpeed),this.node.setWorldRotation(this.targetRotation),this.tempNode.worldPosition==this.node.getWorldPosition()&&(this.shouldUpdateRotation=!1)}else this.node.lookAt(e)}},r.stationFollow=function(t){this.isFollow=!1,this.shouldUpdateRotation=!1,u.moveTo(this.node,this.stopPoints[t].getWorldPosition(),this.animationTime,"sineOut"),u.rotateTo(this.node,this.stopPoints[t].getWorldRotation(),this.animationTime,"sineOut")},r.keepFollowing=function(){u.stopPositionTween(this.node),u.stopRotationTween(this.node),this.targetRotation=this.node.getWorldRotation().clone(),this.shouldUpdateRotation=!0,this.isFollow=!0},o}(p)).prototype,"followOffset",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(0)}}),b=o(g.prototype,"animationTime",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),R=o(g.prototype,"rotationSpeed",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),y=o(g.prototype,"followSpeed",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.01}}),P=o(g.prototype,"isFollow",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=o(g.prototype,"stopPoints",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=o(g.prototype,"target",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=g))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/CameraSize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts"],(function(e){var t,r,a,i,n,o,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,c=e.Camera},function(e){s=e.Action}],execute:function(){var l,u,m,p,h;n._RF.push({},"b43b865x3hIcodJCcPV0Hoa","CameraSize",void 0);var f=o.ccclass,d=o.property;e("CameraSize",(l=f("CameraSize"),u=d({type:c}),l((h=t((p=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"camera",h,i(t)),t}r(t,e);var n=t.prototype;return n.start=function(){if(null===this.camera){var e=this.getComponent(c);e&&(this.camera=e)}},n.doNumber=function(e){null!==this.camera?(this.camera.orthoHeight=e,this.camera.fov=e):console.warn("Field Camera in class CameraSize is not set in object: "+this.node.name)},n.do=function(){},n.doString=function(e){},t}(s)).prototype,"camera",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=p))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/ChangeResolutionEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){i=t.Action}],execute:function(){var r,u;e._RF.push({},"ac31e6/EQVBYaUrmEzGJSLZ","ChangeResolutionEvent",void 0);var c=o.ccclass;t("ChangeResolutionEvent",c("ChangeResolutionEvent")(((u=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.do=function(){this.emit(e.DoEvent)},o.doNumber=function(t){this.emit(e.DoNumberEvent,t)},o.doString=function(t){this.emit(e.DoStringEvent,t)},e}(i)).DoEvent="DoEvent",u.DoNumberEvent="DoIntEvent",u.DoStringEvent="DoStringEvent",r=u))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/DialogScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenBase.ts"],(function(e){var t,n,o,i,a,r,s,c,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.UIOpacity,c=e.Node,l=e.tween},function(e){p=e.ScreenBase}],execute:function(){var u,f,h,y,d,g,m,w;a._RF.push({},"d701fg2B/lIW4EXa+odhntD","DialogScreen",void 0);var D=r.ccclass,T=r.property;r.type,e("MessageType",function(e){return e[e.CollectResources=1]="CollectResources",e[e.CollectIron=2]="CollectIron",e[e.DestroyEnemy=3]="DestroyEnemy",e}({})),e("DialogScreen",(u=D("DialogScreen"),f=T(s),h=T([c]),u((g=t((d=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"opacityComponent",g,i(t)),o(t,"fadeDuration",m,i(t)),o(t,"messages",w,i(t)),t.fadeTween=null,t}n(t,e);var a=t.prototype;return a.show=function(){this.stopTween(),e.prototype.show.call(this),this.opacityComponent.opacity=0,this.fadeTween=l(this.opacityComponent).to(this.fadeDuration,{opacity:255}).start()},a.hide=function(){var t=this;this.stopTween(),this.opacityComponent.opacity=255,this.fadeTween=l(this.opacityComponent).to(this.fadeDuration,{opacity:0}).call((function(){e.prototype.hide.call(t),t.hideMessages()})).start()},a.stopTween=function(){this.fadeTween&&(this.fadeTween.stop(),this.fadeTween=null)},a.showText=function(e){this.messages[e]&&(this.messages[e].active=!0)},a.hideMessages=function(){this.messages.forEach((function(e){e.active&&(e.active=!1)}))},t}(p)).prototype,"opacityComponent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(d.prototype,"fadeDuration",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),w=t(d.prototype,"messages",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=d))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/FileUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Resolution.ts"],(function(e){var t,r,n,i,o,s,a;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime,n=e.objectWithoutPropertiesLoose},function(e){i=e.cclegacy,o=e.resources,s=e.JsonAsset},function(e){a=e.Resolution}],execute:function(){var u=["IsActive"];i._RF.push({},"71eedU4DJtFj4ubuO17Gucg","FileUtils",void 0);var c=e("FileUtils",function(){function e(){}return e.loadResolutions=function(){var e=t(r().mark((function e(t){var n,i,o,s,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=""+this.FilePath+t,i="db://"+this.BasePath+t+".json",e.next=4,this.ensureDirectoryExistence(this.BasePath);case 4:if(CC_EDITOR){e.next=10;break}return e.next=7,this.loadJson(n);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,this.loadEditorJson(i);case 12:e.t0=e.sent;case 13:if(!(o=e.t0)){e.next=19;break}return s=o.json,e.abrupt("return",s.map((function(e){return new a(e)})));case 19:return u=this.createDefaultResolutions([{Width:1080,Height:2400},{Width:890,Height:1920},{Width:1080,Height:1920},{Width:1200,Height:1920},{Width:1688,Height:2388},{Width:2388,Height:1688},{Width:1920,Height:1200},{Width:1920,Height:1080},{Width:1920,Height:890},{Width:2400,Height:1080}]),e.next=22,this.saveResolutions(t,u);case 22:return e.abrupt("return",u);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.saveResolutions=function(){var e=t(r().mark((function e(t,i){var o,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.map((function(e){e.IsActive;return n(e,u)})),s=JSON.stringify(o,null,2),e.next=4,this.writeJsonFile(""+this.BasePath+t+".json",s);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),e.loadJson=function(){var e=t(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){o.load(t,s,(function(t,r){t?(console.error("Error loading JSON file:",t),e(null)):e(r||null)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.loadEditorJson=function(){var e=t(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){Editor.Message.request("asset-db","query-asset-info",t).then((function(r){if(r&&"json"===r.importer){require("fs").readFile(r.file,"utf8",(function(t,r){if(t)console.error("Error reading JSON file in editor:",t),e(null);else try{var n=JSON.parse(r),i=new s;i.json=n,e(i)}catch(t){console.error("Error parsing JSON file:",t),e(null)}}))}else{var n=require("path").basename(t);console.log("JSON file not found:",n),e(null)}})).catch((function(t){e(null)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.writeJsonFile=function(){var e=t(r().mark((function e(t,n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){Editor.Message.request("asset-db","query-asset-info","db://"+t).then((function(i){i?Editor.Message.request("asset-db","save-asset",i.uuid,n).then((function(){return e()})).catch((function(e){console.error("Failed to update JSON file:",e),r(e)})):Editor.Message.request("asset-db","create-asset","db://"+t,n).then((function(){var r=require("path").basename(t);console.log("Created JSON file:",r),e()})).catch((function(e){console.error("Failed to write JSON file:",e),r(e)}))})).catch((function(e){console.error("Failed to query asset info:",e),r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.ensureDirectoryExistence=function(){var e=t(r().mark((function e(t){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!CC_EDITOR){e.next=8;break}if(n=require("fs"),i=require("path"),o=i.join(Editor.Project.path,t),n.existsSync(o)){e.next=8;break}return console.log("Folder not found. Created at path: assets/resources/resolutionParameters"),e.next=8,this.createDirectory(t);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.createDirectory=function(){var e=t(r().mark((function e(t){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!CC_EDITOR){e.next=6;break}return n=require("fs"),i=require("path"),o=i.join(Editor.Project.path,t),e.next=6,new Promise((function(e,t){n.mkdir(o,{recursive:!0},(function(r){r?(console.error("Failed to create directory:",r),t(r)):e()}))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.createDefaultResolutions=function(e){return e.map((function(e){return new a({Width:e.Width,Height:e.Height,Position:{x:0,y:0,z:0},Rotation:{x:0,y:0,z:0},Scale:{x:1,y:1,z:1},UITransformSizeDelta:{x:1,y:1},UITransformPivot:{x:.5,y:.5},IsAlignLeft:!1,IsAlignRight:!1,IsAlignTop:!1,IsAlignBottom:!1,IsAlignHorizontalCenter:!1,IsAlignVerticalCenter:!1,Left:0,Right:0,Top:0,Bottom:0,HorizontalCenter:0,VerticalCenter:0,NumberValue:0,StringValue:"",IsSave:!1,IsSetPosition:!0,IsSetRotation:!0,IsSetScale:!0,IsSetRect:!0,IsActive:!1})}))},e}());c.BasePath="assets/resources/resolutionParameters/",c.FilePath="resolutionParameters/",i._RF.pop()}}}));

System.register("chunks:///_virtual/FpsCounter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,s,n,a,o,u,c,h;return{setters:[function(e){t=e.inheritsLoose,r=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,o=e.Label,u=e.Node,c=e.Eventify,h=e.Component}],execute:function(){var p,l,d,f,m,F,b,x,g;n._RF.push({},"be936CRtcRNR6tRQFd8J6Zy","FpsCounter",void 0);var N=a.ccclass,T=a.property;e("FpsCounter",(p=N("FpsCounter"),l=T(o),d=T(u),p((m=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).FPS_CALCULATED="fps-calculated",i(t,"measurePeriod",F,s(t)),i(t,"maxFps",b,s(t)),i(t,"fpsTextNode",x,s(t)),i(t,"backgroundNode",g,s(t)),t.accumulatedFrames=0,t.nextFlushTime=Number.MAX_VALUE,t.currentFPS=0,t.cashFps=[],t}t(r,e);var n=r.prototype;return n.start=function(){this.nextFlushTime=performance.now()+1e3*this.measurePeriod,this.cashFps=this.generateCash(this.maxFps),this.accumulatedFrames=0},n.show=function(){this.fpsTextNode&&(this.fpsTextNode.node.active=!0),this.backgroundNode&&(this.backgroundNode.active=!0)},n.hide=function(){this.fpsTextNode&&(this.fpsTextNode.node.active=!1),this.backgroundNode&&(this.backgroundNode.active=!1)},n.update=function(){if(this.accumulatedFrames++,performance.now()>=this.nextFlushTime){this.currentFPS=Math.floor(this.accumulatedFrames/this.measurePeriod),this.accumulatedFrames=0;var e=Math.floor((performance.now()-this.nextFlushTime)/(1e3*this.measurePeriod))+1;this.nextFlushTime+=e*(1e3*this.measurePeriod),this.drawFps(),this.emit(this.FPS_CALCULATED,this.currentFPS)}},n.generateCash=function(e){for(var t=new Array(e+1),r=0;r<e;r++)t[r]=r.toString();return t[e]=e+"+",t},n.drawFps=function(){this.fpsTextNode&&(this.currentFPS<=this.maxFps?this.fpsTextNode.string=this.cashFps[this.currentFPS]:this.fpsTextNode.string=this.cashFps[this.maxFps])},r}(c(h)),F=r(m.prototype,"measurePeriod",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),b=r(m.prototype,"maxFps",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),x=r(m.prototype,"fpsTextNode",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=r(m.prototype,"backgroundNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenBase.ts","./StationButton.ts","./SkinButtonsHolder.ts","./ResourceAnimation.ts","./BuildAnimation.ts"],(function(t){var e,n,i,o,r,u,a,s,l,c,d,h,b,f,p,g,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,i=t.inheritsLoose,o=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,a=t.Node,s=t.Enum,l=t.CCInteger,c=t.CCFloat,d=t.CCBoolean,h=t.tween},function(t){b=t.ScreenBase},function(t){f=t.StationButton},function(t){p=t.SkinButtonsHolder},function(t){g=t.ResourceAnimation},function(t){S=t.BuildAnimation}],execute:function(){var m,y,B,E,C,T,q,v,w,I,z,k,V,A,W,N,U,_,x,L,R,D,F,O,P,G,H,K,M,Q,j,J,Y,X,Z,$,tt,et,nt,it,ot,rt,ut,at,st,lt,ct,dt,ht,bt,ft;r._RF.push({},"09afeHwnrxBx558JUdTSFtY","GameScreen",void 0);var pt=u.ccclass,gt=u.property,St=t("ResourceAnimationType",function(t){return t[t.None=0]="None",t[t.WorldToUI=1]="WorldToUI",t[t.UItoWorld=2]="UItoWorld",t[t.WorldToWorld=3]="WorldToWorld",t[t.ValueChangeOnly=4]="ValueChangeOnly",t}({})),mt=(m=pt("ResourceAnimationPoints"),y=gt(a),B=gt(a),m((T=e((C=function(){n(this,"start",T,this),n(this,"end",q,this)}).prototype,"start",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(C.prototype,"end",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=C))||E),yt=(v=pt("AnimationSettings"),w=gt({type:s(St)}),I=gt(mt),z=gt(l),k=gt(Boolean),V=gt(Boolean),A=gt({type:S,visible:function(){return this.sendBuildEvent}}),W=gt(g),N=gt(c),v((x=e((_=function(){n(this,"resourceAnimationType",x,this),n(this,"points",L,this),n(this,"addValue",R,this),n(this,"resetValue",D,this),n(this,"sendBuildEvent",F,this),n(this,"buildAnimation",O,this),n(this,"animation",P,this),n(this,"delay",G,this)}).prototype,"resourceAnimationType",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return St.None}}),L=e(_.prototype,"points",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(_.prototype,"addValue",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=e(_.prototype,"resetValue",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=e(_.prototype,"sendBuildEvent",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=e(_.prototype,"buildAnimation",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(_.prototype,"animation",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(_.prototype,"delay",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=_))||U),Bt=(H=pt("SequenceSettings"),K=gt(d),M=gt({type:p,visible:function(){return this.isTuningStation}}),Q=gt({type:f,visible:function(){return!this.isTuningStation}}),j=gt({type:Boolean,visible:function(){return!this.isTuningStation}}),J=gt(yt),Y=gt(c),H(($=e((Z=function(){n(this,"isTuningStation",$,this),n(this,"tuningButtons",tt,this),n(this,"button",et,this),n(this,"isFakeClicked",nt,this),n(this,"animations",it,this),n(this,"delayButton",ot,this)}).prototype,"isTuningStation",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=e(Z.prototype,"tuningButtons",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(Z.prototype,"button",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(Z.prototype,"isFakeClicked",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),it=e(Z.prototype,"animations",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=e(Z.prototype,"delayButton",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=Z))||X),Et=(rt=pt("StationSequence"),ut=gt([Bt]),rt((lt=e((st=function(){n(this,"settings",lt,this)}).prototype,"settings",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=st))||at);t("GameScreen",(ct=pt("GameScreen"),dt=gt([Et]),ct((ft=e((bt=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return(e=t.call.apply(t,[this].concat(r))||this).SEQUENCE_COMPLETE="sequence-complete",e.BUILD_EVENT="buildEvent",n(e,"sequences",ft,o(e)),e.currentSequense=void 0,e.currentSequenseButtonIndex=0,e}i(e,t);var r=e.prototype;return r.showStationButton=function(t){var e=this;if(!(t>=this.sequences.length)){this.currentSequense=this.sequences[t];for(var n=0;n<this.currentSequense.settings.length;n++)if(this.currentSequense.settings[n].isTuningStation){this.currentSequense.settings[n].tuningButtons.buttons.forEach((function(t){t.node.once(t.CHANGE_SKIN_EVENT,e.clickedChangeSkin,e)}))}else{var i=this.currentSequense.settings[n].button;i.node.on(i.CLICKED_EVENT,this.onStationButtonClicked,this)}this.currentSequenseButtonIndex=0;var o=this.currentSequense.settings[this.currentSequenseButtonIndex];o.isFakeClicked?o.button.node.emit(o.button.CLICKED_EVENT,o.button):o.isTuningStation?o.tuningButtons.node.active=!0:o.button.show()}},r.isTuningStation=function(){return this.currentSequense.settings[0].isTuningStation},r.onStationButtonClicked=function(t){var e=this,n=this.currentSequense.settings[this.currentSequenseButtonIndex];t.node.off(t.CLICKED_EVENT,this.onStationButtonClicked,this),n.button.hide(),this.playResourceAnimation(),n.animations.forEach((function(t){t.sendBuildEvent&&e.node.emit(e.BUILD_EVENT,t.buildAnimation)})),h(n).delay(n.delayButton).call((function(){e.currentSequenseButtonIndex++,e.currentSequenseButtonIndex>=e.currentSequense.settings.length?e.node.emit(e.SEQUENCE_COMPLETE):n.button.show()})).start()},r.playResourceAnimation=function(){this.currentSequense.settings[this.currentSequenseButtonIndex].animations.forEach((function(t){h(t).delay(t.delay).call((function(){switch(t.resourceAnimationType){case St.WorldToUI:var e=t.points.start,n=t.points.end;t.animation.startWordToUI(e,n,t.addValue);break;case St.UItoWorld:e=t.points.start,n=t.points.end;t.animation.startUItoWorld(e,n,t.addValue,t.resetValue);break;case St.WorldToWorld:e=t.points.start,n=t.points.end;t.animation.startWorldToWorld(e,n,t.addValue);break;case St.ValueChangeOnly:t.animation.forceChangeResourceCount(t.addValue)}})).start()}))},r.clickedChangeSkin=function(t,e){this.currentSequense.settings[this.currentSequenseButtonIndex].tuningButtons.node.active=!1,this.currentSequense.settings[this.currentSequenseButtonIndex].animations[0].addValue=e,this.playResourceAnimation(),this.node.emit(this.SEQUENCE_COMPLETE,t)},e}(b)).prototype,"sequences",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ht=bt))||ht));r._RF.pop()}}}));

System.register("chunks:///_virtual/h5_games_ads.ts",["cc","./ad_event.ts"],(function(e){var t,n,o,i,a;return{setters:[function(e){t=e.cclegacy,n=e.game},function(e){o=e.PrerollAdEvent,i=e.InterstitialAdEvent,a=e.RewardedVideoAdEvent}],execute:function(){e({requestRewardedAd:function(e){try{var t=n;c({type:"reward",name:e,beforeAd:function(){t.emit(a.BEFORE_AD)},afterAd:function(){t.emit(a.AFTER_AD)},adBreakDone:function(e){t.emit(a.AD_BREAK_DONE)},beforeReward:function(e){r=e,t.emit(a.BEFORE_REWARD)},adDismissed:function(){t.emit(a.AD_DISMISSED)},adViewed:function(){t.emit(a.AD_VIEWED)}})}catch(e){console.log(e)}},showInterstitialAd:function(e,t){try{var o=n;c({type:e,name:t,beforeAd:function(){o.emit(i.BEFORE_AD)},afterAd:function(){o.emit(i.AFTER_AD)},adBreakDone:function(e){o.emit(i.AD_BREAK_DONE)}})}catch(e){console.log(e)}},showPrerollAd:function(){try{var e=n;c({type:"preroll",adBreakDone:function(t){e.emit(o.AD_BREAK_DONE)}})}catch(e){console.log(e)}},showRewardedAd:function(){if(!r)return void console.log("No Rewarded Ad available");r(),r=null}}),t._RF.push({},"b502agl98JO5LdeYFUo8lUV","h5_games_ads",void 0);var r,d=window.adsbygoogle,c=function(e){d.push(e)};t._RF.pop()}}}));

System.register("chunks:///_virtual/Health.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,a,n,o,l,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,l=t.ProgressBar,h=t.Component}],execute:function(){var s,c,p,u,d,f;n._RF.push({},"09d52aBaHdGrLjAAdWup0Ce","Health",void 0);var v=o.ccclass,y=o.property;t("Health",(s=v("Health"),c=y(l),s((d=e((u=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,i(e,"hpBar",d,a(e)),i(e,"health",f,a(e)),e.isAlive=!0,e}r(e,t);var n=e.prototype;return n.onLoad=function(){this.hpBar.node.active=!1},n.start=function(){},n.lateUpdate=function(t){this.hpBar.progress=this.health,this.health<=0&&(this.isAlive=!1,this.hpBar.node.parent.active=!1,this.node.destroy()),this.health<1&&(this.hpBar.node.active=!0)},n.update=function(t){},e}(h)).prototype,"hpBar",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(u.prototype,"health",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),p=u))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/HideOnStart.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,o=t.Component}],execute:function(){var i;n._RF.push({},"0ae0eWCGD1J7qFZ1uIveezV","HideOnStart",void 0);var c=r.ccclass;r.property,t("HideOnStart",c("HideOnStart")(i=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.start=function(){this.node.active=!1},r.update=function(t){},n}(o))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/InputFacade.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,s,o,u,a,r,h,c,f,l,p;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.applyDecoratedDescriptor,s=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){u=t.cclegacy,a=t._decorator,r=t.Vec2,h=t.input,c=t.Input,f=t.Vec3,l=t.Eventify,p=t.Component}],execute:function(){var y,_,T;u._RF.push({},"6ba399idrZCbpuMaH4ByVPl","InputFacade",void 0);var v=a.ccclass,d=a.property;t("InputFacade",v("InputFacade")((_=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),u=0;u<i;u++)n[u]=arguments[u];return e=t.call.apply(t,[this].concat(n))||this,s(e,"sensitive",T,o(e)),e.DOWN_TOUCHED="down-touched",e.UP_TOUCHED="up-touched",e.isTouch=!1,e.startPoint=new f,e.lastPosition=new f,e.delta=new r,e.offset=new r,e}e(n,t);var u=n.prototype;return u._mouseOffset=function(){return new r(this.offset.x,this.offset.y)},u._mouseDelta=function(){return new r(this.delta.x,this.delta.y)},u.onLoad=function(){h.on(c.EventType.TOUCH_START,this._onMouseDown,this),h.on(c.EventType.TOUCH_MOVE,this._onMouseMove,this),h.on(c.EventType.TOUCH_END,this._onMouseUp,this)},u._onMouseDown=function(t){var e=t.getUILocation();this.startPoint=new f(e.x,e.y,0),this.isTouch=!0,this.lastPosition=new f(e.x,e.y,0),this.emit(this.DOWN_TOUCHED)},u._onMouseMove=function(t){if(this.isTouch){var e=t.getUILocation();this.offset=new r(e.x-this.startPoint.x,e.y-this.startPoint.y),this.delta=new r(e.x-this.lastPosition.x,e.y-this.lastPosition.y),this.lastPosition=new f(e.x,e.y,0)}},u._onMouseUp=function(){this.delta=new r,this.offset=new r,this.isTouch=!1,this.emit(this.UP_TOUCHED)},u.onDestroy=function(){h.off(c.EventType.TOUCH_START,this._onMouseDown,this),h.off(c.EventType.TOUCH_MOVE,this._onMouseMove,this),h.off(c.EventType.TOUCH_END,this._onMouseUp,this)},i(n,[{key:"mouseOffset",get:function(){return this._mouseOffset().multiplyScalar(this.sensitive)}},{key:"mouseDelta",get:function(){return this._mouseDelta().multiplyScalar(this.sensitive)}}]),n}(l(p)),T=n(_.prototype,"sensitive",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=_))||y);u._RF.pop()}}}));

System.register("chunks:///_virtual/Interfaces.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"2c412fiSFtBoZ8J+9g7giOn","Interfaces",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/interstitial_callback.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"fd80am1W2FMAq8T5lCOZkT/","interstitial_callback",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/interstitial_type.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e7eca5A3bFKwYq/A4Lp1A8C","interstitial_type",void 0);t("InterstitialType",function(t){return t.START="start",t.PAUSE="pause",t.NEXT="next",t.BROWSE="browse",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/Level.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameScreen.ts","./Screens.ts","./InputFacade.ts","./DialogScreen.ts","./StationSettings.ts","./CameraFollow.ts","./AdPlatform.ts","./Audio.ts","./WinScreen.ts","./Train.ts"],(function(t){var e,n,i,o,a,s,r,l,c,h,u,S,d,g,f,p,m,w,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.tween,l=t.Component},function(t){c=t.GameScreen},function(t){h=t.Screens},function(t){u=t.InputFacade},function(t){S=t.DialogScreen,d=t.MessageType},function(t){g=t.StationSettings},function(t){f=t.CameraFollow},function(t){p=t.AdPlatform},function(t){m=t.Audio},function(t){w=t.WinScreen},function(t){E=t.Train}],execute:function(){var v,T,L,b,F,y,C,_,D,I,A,P,k;a._RF.push({},"54587rVhIZCe6adWdGPcwTJ","Level",void 0);var x=s.ccclass,O=s.property;t("Level",(v=x("Level"),T=O(h),L=O(u),b=O(E),F=O(f),y=O([g]),v((D=e((_=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this).GAME_END="game-end",i(e,"screens",D,o(e)),i(e,"input",I,o(e)),i(e,"train",A,o(e)),i(e,"cameraFollow",P,o(e)),i(e,"stations",k,o(e)),e.currentStationIndex=0,e.dialogScreen=void 0,e.gameScreen=void 0,e.isStopLevel=!1,e}n(e,t);var a=e.prototype;return a.onLoad=function(){p.iosLink="https://norkusruslan.github.io/build/",p.androidLink="https://norkusruslan.github.io/build/"},a.start=function(){this.gameScreen=this.screens.get(c),this.gameScreen.show(),this.cameraFollow.followOffset=this.train.offsetTrainFollow,this.cameraFollow.target=this.train.trainTarget,this.dialogScreen=this.screens.get(S),this.cameraFollow.stationFollow(0),this.gameScreen.node.once(this.gameScreen.SEQUENCE_COMPLETE,this.startLevel,this),this.gameScreen.node.once(this.gameScreen.SEQUENCE_COMPLETE,this.onSequenceComplete,this),this.gameScreen.node.on(this.gameScreen.BUILD_EVENT,this.build,this),this.train.node.on(this.train.STATION_REACHED,this.onStationReached,this)},a.startLevel=function(){m.instance.PlayLoopBackground("Background"),m.instance.PlaySound("Train")},a.startTrain=function(){var t=this;this.isStopLevel||(this.train.engineStatus(!0),this.deactivateDialog(),r(this.node).delay(this.currentStationIndex>1?.5:0).call((function(){t.cameraFollow.keepFollowing(),t.train.goTo(t.stations[t.currentStationIndex])&&(m.instance.PlayLoopSound("Move"),t.currentStationIndex==t.stations.length-1&&r(t.node).delay(3).call((function(){m.instance.PlaySoundOneShot("TrainEnd")})).start())})).start())},a.onStationReached=function(){this.train.engineStatus(!1),m.instance.StopLoopSound(),this.gameScreen.node.once(this.gameScreen.SEQUENCE_COMPLETE,this.onSequenceComplete,this),this.gameScreen.showStationButton(this.currentStationIndex),this.activateDialog(this.currentStationIndex),this.cameraFollow.stationFollow(this.currentStationIndex),this.currentStationIndex++,this.currentStationIndex>=this.stations.length&&this.win()},a.onSequenceComplete=function(t){void 0===t&&(t=null),null!=t&&(this.train.node.off(this.train.STATION_REACHED,this.onStationReached,this),this.train.node.on(this.train.STATION_REACHED,this.onStationReached,this),this.cameraFollow.target=this.train.trainTarget,this.cameraFollow.followOffset=this.train.offsetTrainFollow,this.train.changeSpaceshipSkin(t)),this.startTrain()},a.win=function(){this.stopLevel(),m.instance.PlaySound("Win"),p.logEvent("ec_win_shown"),this.input.on(this.input.DOWN_TOUCHED,this.logClick,this),this.node.emit(this.GAME_END),this.screens.get(w).show(),this.train.showWinSpaceship(),this.cameraFollow.stationFollow(0)},a.logClick=function(){p.logEvent("ec_win_clicked")},a.stopLevel=function(){this.isStopLevel=!0},a.activateDialog=function(t){d[t]&&(this.dialogScreen.show(),this.dialogScreen.showText(t))},a.deactivateDialog=function(){this.dialogScreen.hide()},a.build=function(t){},e}(l)).prototype,"screens",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(_.prototype,"input",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(_.prototype,"train",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(_.prototype,"cameraFollow",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(_.prototype,"stations",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=_))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/LoseScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenBase.ts"],(function(e){var n,c,r,t;return{setters:[function(e){n=e.inheritsLoose},function(e){c=e.cclegacy,r=e._decorator},function(e){t=e.ScreenBase}],execute:function(){var s;c._RF.push({},"079e2WhtjVGkaNOHiDvn4Rl","LoseScreen",void 0);var o=r.ccclass;e("LoseScreen",o("LoseScreen")(s=function(e){function c(){return e.apply(this,arguments)||this}return n(c,e),c}(t))||s);c._RF.pop()}}}));

System.register("chunks:///_virtual/LunaClickCounter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdPlatform.ts","./Level.ts"],(function(n){var t,e,i,o,r,c,l,u,a;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,c=n._decorator,l=n.Component},function(n){u=n.AdPlatform},function(n){a=n.Level}],execute:function(){var s,d,p,f,h,v;r._RF.push({},"e7532UCHn1GqYjYBDZ0cUl8","LunaClickCounter",void 0);var y=c.ccclass,E=c.property;n("LunaClickCounter",(s=y("LunaClickCounter"),d=E(a),s((h=t((f=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return t=n.call.apply(n,[this].concat(r))||this,i(t,"clickCount",h,o(t)),i(t,"level",v,o(t)),t.tryEndFunction=void 0,t}e(t,n);var r=t.prototype;return r.onLoad=function(){if("Luna"in window){var n=Luna.Unity.Playground.get("LunaInspector","Redirect","fallback value");this.clickCount=n}},r.start=function(){this.tryEndFunction=this.tryEnd.bind(this),window.addEventListener("pointerup",this.tryEndFunction,!1),this.level.node.once(this.level.GAME_END,this.end,this),this.tryEnd()},r.tryEnd=function(){this.clickCount--,this.clickCount<=0&&(this.level.node.off(this.level.GAME_END,this.end,this),this.end())},r.end=function(){window.removeEventListener("pointerup",this.tryEndFunction,!1);var n=!1;window.addEventListener("pointerdown",(function(){n||(n=!0,u.gameEnded.bind(u)())}),!1),window.addEventListener("pointerup",(function(){u.redirectToStore.bind(u)()}),!1)},t}(l)).prototype,"clickCount",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9999}}),v=t(f.prototype,"level",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/LunaFpsLogger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FpsCounter.ts"],(function(t){var e,i,n,o,s,r,u,p,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,u=t.CCInteger,p=t.Component},function(t){a=t.FpsCounter}],execute:function(){var l,c,h,f,d,g,C,m,F;s._RF.push({},"43b5fcomCBPjpVwZE235o8Q","LunaFpsLogger",void 0);var w=r.ccclass,P=r.property;t("LunaFpsLogger",(l=w("LunaFpsLogger"),c=P([u]),h=P([u]),f=P(a),l((C=e((g=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"sendPeriod",C,o(e)),n(e,"fpsGroup",m,o(e)),n(e,"fpsCounter",F,o(e)),e.nextFlushTime=0,e.periodCount=0,e.accumulatedFps=0,e.accumulatedCount=0,e}i(e,t);var s=e.prototype;return s.startMeasuring=function(){this.nextFlushTime=performance.now()+this.sendPeriod[0],this.fpsCounter.on(this.fpsCounter.FPS_CALCULATED,this.onFpsCalculated.bind(this))},s.onFpsCalculated=function(t){if(this.accumulatedFps+=t,this.accumulatedCount++,performance.now()>=this.nextFlushTime){if(this.periodCount>=this.sendPeriod.length)return;var e=this.accumulatedFps/this.accumulatedCount;this.accumulatedFps=0,this.accumulatedCount=0,this.sendAverage(e),this.measureNextPeriodOrDisable()}},s.sendAverage=function(t){if(t<this.fpsGroup[0])return console.log("FPS <"+this.fpsGroup[0]),void("Luna"in window&&window.pi.logCustomEvent("FPS <"+this.fpsGroup[0]));for(var e=1;e<this.fpsGroup.length;e++)if(t<this.fpsGroup[e]){console.log("FPS "+this.fpsGroup[e-1]+"-"+this.fpsGroup[e]),"Luna"in window&&window.pi.logCustomEvent("FPS "+this.fpsGroup[e-1]+"-"+this.fpsGroup[e]);break}t>=this.fpsGroup[this.fpsGroup.length-1]&&(console.log("FPS >"+this.fpsGroup[this.fpsGroup.length-1]),"Luna"in window&&window.pi.logCustomEvent("FPS >"+this.fpsGroup[this.fpsGroup.length-1]))},s.measureNextPeriodOrDisable=function(){this.periodCount++,this.periodCount<this.sendPeriod.length?this.nextFlushTime+=this.sendPeriod[this.periodCount]:this.enabled=!1},e}(p)).prototype,"sendPeriod",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[5e3]}}),m=e(g.prototype,"fpsGroup",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[10,15,20,30]}}),F=e(g.prototype,"fpsCounter",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/LunaFpsSettings.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LunaFpsLogger.ts","./FpsCounter.ts"],(function(t){var n,e,o,r,i,u,s,a,p,l,c,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,u=t._decorator,s=t.Button,a=t.input,p=t.Input,l=t.Component},function(t){c=t.LunaFpsLogger},function(t){f=t.FpsCounter}],execute:function(){var h,g,y,b,d,C,L,w,v,m;i._RF.push({},"94fc6GkmKhNBoBbrJAHYzx0","LunaFpsSettings",void 0);var F=u.ccclass,T=u.property;t("LunaFpsSettings",(h=F("LunaFpsSettings"),g=T({type:f}),y=T({type:f}),b=T(s),h((L=n((C=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),u=0;u<e;u++)i[u]=arguments[u];return n=t.call.apply(t,[this].concat(i))||this,o(n,"hasFpsCounter",L,r(n)),o(n,"fpsCounter",w,r(n)),o(n,"fpsLogger",v,r(n)),o(n,"button",m,r(n)),n}e(n,t);var i=n.prototype;return i.onLoad=function(){this.fpsLogger=this.getComponent(c)},i.start=function(){this.fpsCounter.hide(),"develop"!==this.getPlatform()&&void 0!==this.getPlatform()||this.hasFpsCounter&&this.fpsCounter.show(),a.once(p.EventType.TOUCH_START,this.onTouchStart,this),this.button.node.on(s.EventType.CLICK,this.fpsCounter.hide,this.fpsCounter)},i.onDestroy=function(){a.off(p.EventType.TOUCH_START,this.onTouchStart,this)},i.onTouchStart=function(){this.fpsLogger.startMeasuring()},i.getPlatform=function(){return"Luna"in window?window.pi.env.adNetwork:window.super_html_channel?window.super_html_channel:"develop"},n}(l)).prototype,"hasFpsCounter",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=n(C.prototype,"fpsCounter",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(C.prototype,"fpsLogger",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(C.prototype,"button",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=C))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/LunaSettings.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Train.ts"],(function(n){var t,e,a,i,r,o,u,c;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,o=n._decorator,u=n.Component},function(n){c=n.Train}],execute:function(){var s,l,p,f,g;r._RF.push({},"e942d29tctMPIk1PKD/gxpa","LunaSettings",void 0);var y=o.ccclass,d=o.property;n("LunaSettings",(s=y("LunaSettings"),l=d(c),s((g=t((f=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r))||this,a(t,"train",g,i(t)),t}return e(t,n),t.prototype.onLoad=function(){if("Luna"in window){var n=Luna.Unity.Playground.get("LunaInspector","Train1","fallback value");this.train.setSpeed(n);var t=Luna.Unity.Playground.get("LunaInspector","Train2","fallback value");this.train.setSpeed(t)}},t}(u)).prototype,"train",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ad_event.ts","./h5_games_ads.ts","./interstitial_callback.ts","./interstitial_type.ts","./preroll_callback.ts","./rewarded_callback.ts","./CameraAnimation.ts","./CameraFollow.ts","./HideOnStart.ts","./Planet.ts","./SpaceshipAnimation.ts","./SpaceshipController.ts","./SpaceshipPick.ts","./SpaceshipType.ts","./TemplatePostProcessingPass%20(5).ts","./Audio.ts","./AudioExample.ts","./TrackStructure.ts","./Tracks.ts","./Level.ts","./AdPlatform.ts","./LunaClickCounter.ts","./LunaSettings.ts","./Preloader.ts","./StaticBatching.ts","./InputFacade.ts","./TweenAnimation.ts","./DialogScreen.ts","./GameScreen.ts","./LoseScreen.ts","./StartScreen.ts","./WinScreen.ts","./ResourceBar.ts","./ScreenBase.ts","./Screens.ts","./StationSettings.ts","./Train.ts","./TrainAnimation.ts","./Trains.ts","./AutoDestroy.ts","./BulletController.ts","./BulletImpactEffect.ts","./BulletSpawner.ts","./BulletSpawnerTest.ts","./Health.ts","./RollLookAt.ts","./TurretController.ts","./TurretHealth.ts","./YawLookAt.ts","./UIPositionAdapter.ts","./BaseButton.ts","./ResourceAnimation.ts","./SkinButton.ts","./SkinButtonsHolder.ts","./StationButton.ts","./UnhideNode.ts","./BuildAnimation.ts","./Particles.ts","./Main.ts","./FpsCounter.ts","./LunaFpsLogger.ts","./LunaFpsSettings.ts","./Action.ts","./CameraSize.ts","./ChangeResolutionEvent.ts","./PlayAnimation.ts","./TextChanger.ts","./FileUtils.ts","./Interfaces.ts","./OrientationInstance.ts","./OrientationPicker.ts","./Orientations.ts","./OrientationsUtils.ts","./Resolution.ts","./ResolutionParameters.ts","./ScreenRatio.ts","./ScreenResizer.ts","./Spline.ts","./SplineExampleMover.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Component}],execute:function(){var r;n._RF.push({},"750femqPQtCZb7H2hS9Xm/G","Main",void 0);var s=o.ccclass;o.property,t("Main",s("Main")(r=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.start=function(){var t=document.getElementById("fullpage");null!==t&&(t.classList.add("fade-out"),setTimeout((function(){t.style.display="none"}),1e3))},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/OrientationInstance.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Orientations.ts"],(function(n){var t,e,i;return{setters:[function(n){t=n.createForOfIteratorHelperLoose},function(n){e=n.cclegacy},function(n){i=n.Orientations}],execute:function(){e._RF.push({},"eb20b2LkchBDbfqfG4lZCNF","OrientationInstance",void 0);n("OrientationsManager",function(){function n(){}return n.getInstance=function(n){return this.findObjectOfType(i,n)},n.findObjectOfType=function(n,e){for(var i,r=this.findAllNodes(e),o=t(r);!(i=o()).done;){var c=i.value.getComponent(n);if(c)return c}return null},n.findAllNodes=function(n,t){var e=this;return void 0===t&&(t=[]),t.push(n),n.children.forEach((function(n){e.findAllNodes(n,t)})),t},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/OrientationPicker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResolutionParameters.ts","./OrientationsUtils.ts","./Action.ts"],(function(e){var t,i,n,o,s,r,a,l,u,c,d,h,f,m;return{setters:[function(e){t=e.inheritsLoose,i=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,u=e.Node,c=e.Eventify,d=e.Component},function(e){h=e.ResolutionParameters},function(e){f=e.OrientationsUtils},function(e){m=e.Action}],execute:function(){var b,p,v,R,P,O,A,g;a._RF.push({},"f8752J9UMxKw5aR6TlhXVMf","OrientationPicker",void 0);var j=l.ccclass,S=l.property,y=l.executeInEditMode;e("OrientationPicker",(b=j("OrientationPicker"),p=S([u]),v=S(m),b(R=y((P=function(e){function i(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"isGlobalSpace",O,o(t)),n(t,"hiddenObjects",A,o(t)),n(t,"actionGameObject",g,o(t)),t.resolutionParameters=null,t.orientations=null,t.resolutionAdded="resolution-Added",t.resolutionRemoved="resolution-Removed",t}t(i,e);var a=i.prototype;return a.onLoad=function(){var e=s(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resolutionParameters){e.next=4;break}return this.resolutionParameters=new h(this.node.name),e.next=4,this.resolutionParameters.initialize();case 4:this.orientations=f.getInstance(),null!=this.orientations&&this.orientations.addOrientationPicker(this);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onDisable=function(){null==this.node.parent&&this.immediatelyRemove()},a.onDestroy=function(){this.orientations&&this.orientations.removeOrientationPicker(this)},a.checkInitialization=function(){0==this.node.active&&console.log('Node "'+this.node.name+'" is disabled and OrientationPicker is not added to the orientation system.')},a.addResolutionAddedListener=function(e){this.on(this.resolutionAdded,e)},a.removeResolutionAddedListener=function(e){this.on(this.resolutionAdded,e)},a.addResolutionRemovedListener=function(e){this.on(this.resolutionRemoved,e)},a.removeResolutionRemovedListener=function(e){this.off(this.resolutionRemoved,e)},a.getResolutions=function(){var e;return null==(e=this.resolutionParameters)?void 0:e.getResolutions()},a.getHiddenObjects=function(){return this.removeEmptyHiddenObject(),this.hiddenObjects.map((function(e){return{name:e.name,uuid:e.uuid}}))},a.getActionObject=function(){if(this.actionGameObject)return this.actionGameObject.node.name},a.addResolution=function(e,t,i){void 0===i&&(i=!0),this.resolutionParameters.addResolution(e,t,i),i&&this.emit(this.resolutionAdded,e,t)},a.removeResolution=function(e,t,i){void 0===i&&(i=!0),this.resolutionParameters.removeResolution(e,t,i),i&&this.emit(this.resolutionRemoved,e,t)},a.setResolutionDisplay=function(){var e=s(r().mark((function e(t,i){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!CC_EDITOR){e.next=7;break}return e.next=3,Editor.Profile.setProject("project","general.designResolution.width",t);case 3:return e.next=5,Editor.Profile.setProject("project","general.designResolution.height",i);case 5:return e.next=7,Editor.Message.send("scene","query-design-resolution");case 7:f.changeDesignResolution(t,i),this.resolutionParameters.setActiveResolution(t,i);case 9:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}(),a.setSaveResolution=function(e,t){this.resolutionParameters.saveResolution(this.node,e,t,this.isGlobalSpace)},a.saveAllResolution=function(){this.resolutionParameters.saveAllResolution(this.node,this.isGlobalSpace)},a.resetAllResolution=function(){this.resolutionParameters.resetAllResolution()},a.changeIsSetPosition=function(e,t){this.resolutionParameters.setPosition(e,t)},a.enableAllPosition=function(){this.resolutionParameters.enableAllPosition()},a.disableAllPosition=function(){this.resolutionParameters.disableAllPosition()},a.changeIsSetRotation=function(e,t){this.resolutionParameters.setRotation(e,t)},a.enableAllRotation=function(){this.resolutionParameters.enableAllRotation()},a.disableAllRotation=function(){this.resolutionParameters.disableAllRotation()},a.changeIsSetScale=function(e,t){this.resolutionParameters.setScale(e,t)},a.enableAllScale=function(){this.resolutionParameters.enableAllScale()},a.disableAllScale=function(){this.resolutionParameters.disableAllScale()},a.changeIsSetRect=function(e,t){this.resolutionParameters.setRect(e,t)},a.enableAllRect=function(){this.resolutionParameters.enableAllRect()},a.disableAllRect=function(){this.resolutionParameters.disableAllRect()},a.resetResolution=function(e,t){this.resolutionParameters.resetSaveResolution(e,t)},a.setIntValue=function(e,t,i){this.resolutionParameters.setIntValue(e,t,i)},a.setStringValue=function(e,t,i){this.resolutionParameters.setStringValue(e,t,i)},a.changeSpace=function(){var e;this.isGlobalSpace=!this.isGlobalSpace,null==(e=this.resolutionParameters)||e.changeSpace(this.node,this.isGlobalSpace)},a.selectOrientations=function(){this.orientations&&(Editor.Selection.clear("node"),Editor.Selection.select("node",this.orientations.node.uuid))},a.remove=function(){var e=this;this.destroy(),Editor.Selection.clear("node"),setTimeout((function(){Editor.Selection.select("node",e.node.uuid)}),200)},a.immediatelyRemove=function(){this.destroy()},a.findResolution=function(e){if(null!=this.resolutionParameters)return this.resolutionParameters.findResolution(e)},a.switchResolution=function(e){if(this.resolutionParameters){var t=this.resolutionParameters.findResolution(e);t&&(this.resolutionParameters.resetAllActiveResolutions(),this.apply(t))}},a.addHiddenObject=function(e){var t=f.findNodeByUuid(e);t?this.hiddenObjects.includes(t)||this.hiddenObjects.push(t):console.warn("Node with UUID "+e+" was not found.")},a.removeHiddenObject=function(e){var t=this.hiddenObjects.findIndex((function(t){return t.uuid===e}));-1!==t?this.hiddenObjects.splice(t,1):console.warn("Node with UUID "+e+" was not found.")},a.removeEmptyHiddenObject=function(){this.hiddenObjects=this.hiddenObjects.filter((function(e){return null!==e}))},a.addActionObject=function(e){var t=f.findAction(e);t&&(this.removeActionObject(),this.actionGameObject=t)},a.removeActionObject=function(){this.actionGameObject&&(this.actionGameObject=null)},a.compareTo=function(e){var t=this.getDepth(this.node),i=this.getDepth(e.node);return t<i?-1:t>i?1:this.isDescendantOf(this.node,e.node)?-1:this.isDescendantOf(e.node,this.node)?1:0},a.getDepth=function(e){for(var t=0;e&&null!==e.parent;)t++,e=e.parent;return t},a.isDescendantOf=function(e,t){if(null===e||null===t)return!1;for(var i=e.parent;null!==i;){if(i===t)return!0;i=i.parent}return!1},a.apply=function(e){e.IsSave?(e.applyTo(this.node,this.isGlobalSpace),this.hiddenObjects.forEach((function(e){return e.active=!0})),this.doAction(e)):this.hiddenObjects.forEach((function(e){return e.active=!1})),e.IsActive=!0,this.node.emit("resolution-getted",e)},a.doAction=function(e){null!==this.actionGameObject&&e.doAction(this.actionGameObject)},i}(c(d)),O=i(P.prototype,"isGlobalSpace",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=i(P.prototype,"hiddenObjects",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=i(P.prototype,"actionGameObject",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=P))||R)||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/Orientations.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenRatio.ts","./OrientationsUtils.ts"],(function(i){var n,e,t,o,r,s,c,u,a,d;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,s=i._decorator,c=i.screen,u=i.Component},function(i){a=i.ScreenRatio},function(i){d=i.OrientationsUtils}],execute:function(){var l,h,f;r._RF.push({},"574a9M0oOlJyLTyu3ZIoAff","Orientations",void 0);var R=s.ccclass,v=s.property,P=s.executeInEditMode;i("Orientations",R("Orientations")(l=P((f=n((h=function(i){function n(){for(var n,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return n=i.call.apply(i,[this].concat(r))||this,t(n,"orientationPickers",f,o(n)),n.screenRatio=null,n.onSwitched=function(i){if(0!=n.orientationPickers.length){var e=n.orientationPickers[0].findResolution(i);!CC_EDITOR&&e&&n.setDesignResolution(e),n.orientationPickers.forEach((function(n){return n.switchResolution(i)}))}},n.onResolutionAdded=function(i,e){n.orientationPickers.forEach((function(n){return n.addResolution(i,e,!1)}))},n.onResolutionRemoved=function(i,e){n.orientationPickers.forEach((function(n){return n.removeResolution(i,e,!1)}))},n}e(n,i);var r=n.prototype;return r.onLoad=function(){d.setInstance(this),this.updateScreenRatio()},r.onDestroy=function(){this.screenRatio&&this.unsubscribeScreenRatio(),d.setInstance(null)},r.getOrientationPickers=function(){for(var i=[],n=/<[^>]+>/,e=0;e<this.orientationPickers.length;e++){var t=this.orientationPickers[e],o=t.name.replace(n,"").trim();i.push({value:{uuid:{value:t.uuid},name:{value:o},isGlobalSpace:{value:t.isGlobalSpace},resolutions:{value:t.getResolutions()}}})}return i},r.findeAndChangeSpaceOrientationPicker=function(i){var n=this.orientationPickers.find((function(n){return n.uuid===i}));n&&n.changeSpace()},r.findeAndSelectOrientationPicker=function(i){var n=this.orientationPickers.find((function(n){return n.uuid===i}));n&&(Editor.Selection.clear("node"),Editor.Selection.select("node",n.node.uuid))},r.findeAndSetResolutionDisplay=function(i,n,e){var t=this.orientationPickers.find((function(n){return n.uuid===i}));t&&t.setResolutionDisplay(n,e)},r.findeAndSetResolution=function(i,n,e){var t=this.orientationPickers.find((function(n){return n.uuid===i}));t&&t.setSaveResolution(n,e)},r.findeAndChangeIsSetPosition=function(i,n,e){var t=this.orientationPickers.find((function(n){return n.uuid===i}));t&&t.changeIsSetPosition(n,e)},r.findeAndChangeIsSetRotation=function(i,n,e){var t=this.orientationPickers.find((function(n){return n.uuid===i}));t&&t.changeIsSetRotation(n,e)},r.findeAndChangeIsSetScale=function(i,n,e){var t=this.orientationPickers.find((function(n){return n.uuid===i}));t&&t.changeIsSetScale(n,e)},r.findeAndChangeIsSetRect=function(i,n,e){var t=this.orientationPickers.find((function(n){return n.uuid===i}));t&&t.changeIsSetRect(n,e)},r.findeAndResetResolution=function(i,n,e){var t=this.orientationPickers.find((function(n){return n.uuid===i}));t&&t.resetResolution(n,e)},r.findeAndRemoveResolution=function(i,n,e){var t=this.orientationPickers.find((function(n){return n.uuid===i}));t&&t.removeResolution(n,e)},r.findeAndRemoveOrientationPicker=function(i){var n=this.orientationPickers.find((function(n){return n.uuid===i}));n&&n.immediatelyRemove()},r.updateScreenRatio=function(){var i;this.screenRatio||(this.screenRatio=this.getComponent(a)),this.screenRatio||(this.screenRatio=this.node.addComponent(a)),this.screenRatio&&!this.screenRatio.hasAction(this.onSwitched.bind(this))&&this.subscribeScreenRatio(),null==(i=this.screenRatio)||i.updateRatio()},r.addOrientationPicker=function(i){var n;this.orientationPickers.includes(i)||(this.checkResolutions(i),this.orientationPickers.push(i),i.addResolutionAddedListener(this.onResolutionAdded),i.addResolutionRemovedListener(this.onResolutionRemoved)),this.removeEmptyOrientationPickers(),this.orientationPickers.sort((function(i,n){return i.compareTo(n)})),null==(n=this.screenRatio)||n.updateRatio()},r.checkResolutions=function(i){this.orientationPickers.length>0&&this.orientationPickers[0].getResolutions().forEach((function(n){return i.addResolution(n.Width,n.Height,!1)}))},r.removeOrientationPicker=function(i){var n;if(null!==this.orientationPickers){i.removeResolutionAddedListener(this.onResolutionAdded),i.removeResolutionRemovedListener(this.onResolutionRemoved);var e=null==(n=this.orientationPickers)?void 0:n.indexOf(i);-1!==e&&this.orientationPickers.splice(e,1),this.removeEmptyOrientationPickers(),this.orientationPickers.sort((function(i,n){return i.compareTo(n)}))}},r.removeEmptyOrientationPickers=function(){this.orientationPickers=this.orientationPickers.filter((function(i){return null!==i}))},r.subscribeScreenRatio=function(){var i;null==(i=this.screenRatio)||i.addSwitchedResolutionListener(this.onSwitched)},r.unsubscribeScreenRatio=function(){var i;null==(i=this.screenRatio)||i.removeSwitchedResolutionListener(this.onSwitched)},r.setDesignResolution=function(i){var n=c.windowSize,e=n.width/n.height,t=i.Width/i.Height,o=i.Width,r=i.Height;e>t?r=o/e:o=r*e,d.changeDesignResolution(o,r)},n}(u)).prototype,"orientationPickers",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=h))||l)||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/OrientationsUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts"],(function(n){var e,t,i,o,r,s;return{setters:[function(n){e=n.createForOfIteratorHelperLoose},function(n){t=n.cclegacy,i=n.view,o=n.director,r=n.Component},function(n){s=n.Action}],execute:function(){t._RF.push({},"62088dytA5BgbbOar6ek6RA","OrientationsUtils",void 0),n("OrientationsUtils",function(){function n(){}return n.setInstance=function(n){this._instance=n},n.getInstance=function(){return this._instance||console.warn("Orientations instance not set. Please initialize it."),this._instance},n.changeDesignResolution=function(n,e){i.setDesignResolutionSize(n,e,0),i.emit("canvas-resize")},n.clearInstance=function(){this._instance=null},n.getNewResolutionData=function(n,e){return{Width:n,Height:e,Position:{x:0,y:0,z:0},Rotation:{x:0,y:0,z:0},Scale:{x:1,y:1,z:1},UITransformSizeDelta:{x:1,y:1},UITransformPivot:{x:.5,y:.5},Left:0,Right:0,Top:0,Bottom:0,HorizontalCenter:0,VerticalCenter:0,IsAlignLeft:!1,IsAlignRight:!1,IsAlignTop:!1,IsAlignBottom:!1,IsAlignHorizontalCenter:!1,IsAlignVerticalCenter:!1,NumberValue:0,StringValue:"",IsSave:!1,IsSetPosition:!0,IsSetRotation:!1,IsSetScale:!1,IsSetRect:!1,IsActive:!1}},n.findNodeByUuid=function(n){var e=o.getScene();return e?this.findNodeByUuidRecursive(e,n):(console.warn("The scene is not loaded."),null)},n.findObjectOfType=function(n,t){for(var i,o=this.findAllNodes(t),r=e(o);!(i=r()).done;){var s=i.value.getComponent(n);if(s)return s}return null},n.findAllNodes=function(n,e){var t=this;return void 0===e&&(e=[]),e.push(n),n.children.forEach((function(n){t.findAllNodes(n,e)})),e},n.findNodeByUuidRecursive=function(n,t){if(n.uuid===t)return n;for(var i,o=e(n.children);!(i=o()).done;){var r=i.value,s=this.findNodeByUuidRecursive(r,t);if(s)return s}return null},n.findAction=function(t){var i=n.findNodeByUuid(t);if(i){for(var o,u=i.getComponents(r),a=e(u);!(o=a()).done;){var c=o.value;if(c instanceof s)return c}return console.warn("Action component on node name: "+i.name+" was not found."),null}return console.warn("Node with UUID: "+t+" was not found."),null},n}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/Particles.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,a,n,c,o,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,c=t._decorator,o=t.ParticleSystem,s=t.Component}],execute:function(){var l,p,u,f,h;n._RF.push({},"a5182gN4eBBO6CutKN1Oax4","Particles",void 0);var y=c.ccclass,g=c.property;t("Particles",(l=y("Particles"),p=g([o]),l((h=e((f=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n))||this,i(e,"particles",h,a(e)),e}return r(e,t),e.prototype.show=function(){for(var t=0;t<this.particles.length;t++){this.particles[t].play()}},e}(s)).prototype,"particles",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=f))||u));n._RF.pop()}}}));

System.register("chunks:///_virtual/Planet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,i,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Component}],execute:function(){var s,c,u;i._RF.push({},"48aafB/K+pMIq5Y+MPFUMZS","Planet",void 0);var p=a.ccclass,d=a.property;e("Planet",p("Planet")((u=t((c=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"rotationSpeed",u,o(t)),t}n(t,e);var i=t.prototype;return i.start=function(){},i.update=function(e){var t=this.rotationSpeed*e;this.node.setRotationFromEuler(this.node.eulerAngles.x,this.node.eulerAngles.y+t,this.node.eulerAngles.z)},t}(l)).prototype,"rotationSpeed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),s=c))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/PlayAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts"],(function(n){var t,o,i,e,a,r,l,c,u,s;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.Component,c=n.warn,u=n.Animation},function(n){s=n.Action}],execute:function(){var y,m,p,f,P,d;a._RF.push({},"f89ecVua1VIH65Xre2Qv9B2","PlayAnimation",void 0);var h=r.ccclass,b=r.property;n("PlayAnimation",(y=h("PlayAnimation"),m=b({type:l}),y(((d=function(n){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,i(t,"_animation",P,e(t)),t.PlayResult={Played:"Played",NotFound:"NotFound",NoComponent:"NoComponent"},t}o(t,n);var a=t.prototype;return a.doString=function(n){switch(this.getPlayResult(n)){case this.PlayResult.NoComponent:c("<b><color=orange>No animation component found, in component PlayAnimation of object: "+this.node.name+"</color></b>");break;case this.PlayResult.NotFound:c("<b><color=orange>Animation '"+n+"' not found in object: "+this._animation.node.name+"</color></b>")}},a.getPlayResult=function(n){return this._animation instanceof u?this.tryPlayAnimation(this._animation,n)?this.PlayResult.Played:this.PlayResult.NotFound:this.PlayResult.NoComponent},a.tryPlayAnimation=function(n,t){return!!n.getState(t)&&(n.play(t),!0)},a.do=function(){},a.doNumber=function(n){},t}(s)).Layer=0,P=t((f=d).prototype,"_animation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/Preloader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,r,n;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator,n=e.Component}],execute:function(){var c;o._RF.push({},"c08bf3D6/RH9aW5Sg5kEVol","Preloader",void 0);var l=r.ccclass;r.property,e("Preloader",l("Preloader")(c=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.start=function(){var e=document.getElementById("fullpage");null!==e&&(e.classList.add("fade-out"),setTimeout((function(){e.style.display="none"}),1e3))},o}(n))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/preroll_callback.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"3c6b2NJ6vVK/Ik6iUzYURUm","preroll_callback",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/Resolution.ts",["cc"],(function(t){var i,o,s,n,e,r,a,h;return{setters:[function(t){i=t.cclegacy,o=t.UITransform,s=t.Quat,n=t.Widget,e=t.Size,r=t.Vec2,a=t.Vec3,h=t.Mat4}],execute:function(){i._RF.push({},"2960fuSFoVDM4jbvbwgpDMr","Resolution",void 0);t("Resolution",function(){function t(t){this.Width=void 0,this.Height=void 0,this.AspectRatio=void 0,this.Position=void 0,this.Rotation=void 0,this.Scale=void 0,this.UITransformSizeDelta=void 0,this.UITransformPivot=void 0,this.Left=void 0,this.Right=void 0,this.Top=void 0,this.Bottom=void 0,this.HorizontalCenter=void 0,this.VerticalCenter=void 0,this.IsAlignLeft=void 0,this.IsAlignRight=void 0,this.IsAlignTop=void 0,this.IsAlignBottom=void 0,this.IsAlignHorizontalCenter=void 0,this.IsAlignVerticalCenter=void 0,this.NumberValue=void 0,this.StringValue=void 0,this.IsSave=void 0,this.IsSetPosition=void 0,this.IsSetRotation=void 0,this.IsSetScale=void 0,this.IsSetRect=void 0,this.IsActive=void 0,this.Width=t.Width,this.Height=t.Height,this.Position=new a(t.Position.x,t.Position.y,t.Position.z),this.Rotation=new a(t.Rotation.x,t.Rotation.y,t.Rotation.z),this.Scale=new a(t.Scale.x,t.Scale.y,t.Scale.z),this.UITransformSizeDelta=new r(t.UITransformSizeDelta.x,t.UITransformSizeDelta.y),this.UITransformPivot=new r(t.UITransformPivot.x,t.UITransformPivot.y),this.Left=t.Left,this.Right=t.Right,this.Top=t.Top,this.Bottom=t.Bottom,this.HorizontalCenter=t.HorizontalCenter,this.VerticalCenter=t.VerticalCenter,this.IsAlignLeft=t.IsAlignLeft,this.IsAlignRight=t.IsAlignRight,this.IsAlignTop=t.IsAlignTop,this.IsAlignBottom=t.IsAlignBottom,this.IsAlignHorizontalCenter=t.IsAlignHorizontalCenter,this.IsAlignVerticalCenter=t.IsAlignVerticalCenter,this.NumberValue=t.NumberValue,this.StringValue=t.StringValue,this.IsSave=t.IsSave,this.IsSetPosition=t.IsSetPosition,this.IsSetRotation=t.IsSetRotation,this.IsSetScale=t.IsSetScale,this.IsSetRect=t.IsSetRect,this.IsActive=t.IsActive,this.updateHash()}var i=t.prototype;return i.updateHash=function(){this.AspectRatio=(this.Width+1)/this.Height},i.isDuplicateResolution=function(t,i){return this.Width===t&&this.Height===i},i.compareTo=function(t){return this.AspectRatio-t.AspectRatio},i.applyTo=function(t,i){var s=t.getComponent(o);s?this.applyUITransform(s,i):this.applyTransform(t,i)},i.saveFrom=function(t,i){var s=t.getComponent(o);s?this.saveFromUITransform(s,i):this.saveFromTransform(t,i),this.IsSave=!0},i.changeSpace=function(t,i){i?this.setGlobalPosition(t):this.setLocalPosition(t)},i.doAction=function(t){null!=t&&(t.do(),t.doNumber(this.NumberValue),t.doString(this.StringValue))},i.applyUITransform=function(t,i){var o=t.node;if(o.setPosition(this.IsSetPosition?this.Position:o.position),i?o.setWorldRotation(this.IsSetRotation?s.fromEuler(new s,this.Rotation.x,this.Rotation.y,this.Rotation.z):o.rotation):o.setRotation(this.IsSetRotation?s.fromEuler(new s,this.Rotation.x,this.Rotation.y,this.Rotation.z):o.rotation),o.setScale(this.IsSetScale?this.Scale:o.scale),this.IsSetRect){var r=o.getComponent(n);r&&(r.isAlignLeft=this.IsAlignLeft,r.isAlignRight=this.IsAlignRight,r.isAlignTop=this.IsAlignTop,r.isAlignBottom=this.IsAlignBottom,r.isAlignHorizontalCenter=this.IsAlignHorizontalCenter,r.isAlignVerticalCenter=this.IsAlignVerticalCenter,r.horizontalCenter=this.HorizontalCenter,r.verticalCenter=this.VerticalCenter,r.left=this.Left,r.right=this.Right,r.top=this.Top,r.bottom=this.Bottom),t.setAnchorPoint(this.UITransformPivot),t.setContentSize(new e(this.UITransformSizeDelta.x,this.UITransformSizeDelta.y))}},i.applyTransform=function(t,i){i?(t.setWorldPosition(this.IsSetPosition?this.Position:t.getWorldPosition()),t.setWorldRotation(this.IsSetRotation?s.fromEuler(new s,this.Rotation.x,this.Rotation.y,this.Rotation.z):t.getWorldRotation())):(t.setPosition(this.IsSetPosition?this.Position:t.position),t.setRotation(this.IsSetRotation?s.fromEuler(new s,this.Rotation.x,this.Rotation.y,this.Rotation.z):t.rotation)),t.setScale(this.IsSetScale?this.Scale:t.scale)},i.saveFromUITransform=function(t,i){var o=t.node;i?(this.Position=o.getWorldPosition(),o.getWorldRotation().getEulerAngles(this.Rotation)):(this.Position=o.getPosition(),this.Rotation=o.eulerAngles.clone());this.Scale=o.scale.clone(),this.UITransformPivot=t.anchorPoint.clone(),this.UITransformSizeDelta=new r(t.contentSize.width,t.contentSize.height);var s=o.getComponent(n);s&&(this.Left=s.left,this.Right=s.right,this.Top=s.top,this.Bottom=s.bottom,this.HorizontalCenter=s.horizontalCenter,this.VerticalCenter=s.verticalCenter,this.IsAlignLeft=s.isAlignLeft,this.IsAlignRight=s.isAlignRight,this.IsAlignTop=s.isAlignTop,this.IsAlignBottom=s.isAlignBottom,this.IsAlignHorizontalCenter=s.isAlignHorizontalCenter,this.IsAlignVerticalCenter=s.isAlignVerticalCenter)},i.saveFromTransform=function(t,i){i?(this.Position=t.getWorldPosition(),t.getWorldRotation().getEulerAngles(this.Rotation)):(this.Position=t.getPosition(),this.Rotation=t.eulerAngles.clone()),this.Scale=t.scale.clone()},i.setGlobalPosition=function(t){if(t.parent){a.transformMat4(this.Position,this.Position,t.parent.worldMatrix);var i=new s;s.fromEuler(i,this.Rotation.x,this.Rotation.y,this.Rotation.z),s.multiply(i,t.parent.worldRotation,i),i.getEulerAngles(this.Rotation)}},i.setLocalPosition=function(t){if(t.parent){var i=new h;h.invert(i,t.parent.worldMatrix),a.transformMat4(this.Position,this.Position,i);var o=new s;s.fromEuler(o,this.Rotation.x,this.Rotation.y,this.Rotation.z),s.multiply(o,s.invert(new s,t.parent.worldRotation),o),o.getEulerAngles(this.Rotation)}},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/ResolutionParameters.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FileUtils.ts","./OrientationsUtils.ts","./Resolution.ts"],(function(t){var e,n,s,i,o,r;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy},function(t){i=t.FileUtils},function(t){o=t.OrientationsUtils},function(t){r=t.Resolution}],execute:function(){s._RF.push({},"9bcc2zqx3dBpqE2C0qtB9Pf","ResolutionParameters",void 0);t("ResolutionParameters",function(){function t(t){this._resolutions=[],this._hashTable=new Map,this._fileName=void 0,this._fileName=t}var s=t.prototype;return s.initialize=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadResolutions(this._fileName);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:this._resolutions=t.t0,this.updateHashTable();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.getResolutions=function(){return this._resolutions},s.saveAllResolution=function(t,e){this._resolutions.forEach((function(n){return n.saveFrom(t,e)})),this.saveToFile()},s.resetAllResolution=function(){this._resolutions.forEach((function(t){return t.IsSave=!1})),this.saveToFile()},s.enableAllPosition=function(){this._resolutions.forEach((function(t){return t.IsSetPosition=!0})),this.saveToFile()},s.disableAllPosition=function(){this._resolutions.forEach((function(t){return t.IsSetPosition=!1})),this.saveToFile()},s.enableAllRotation=function(){this._resolutions.forEach((function(t){return t.IsSetRotation=!0})),this.saveToFile()},s.disableAllRotation=function(){this._resolutions.forEach((function(t){return t.IsSetRotation=!1})),this.saveToFile()},s.enableAllScale=function(){this._resolutions.forEach((function(t){return t.IsSetScale=!0})),this.saveToFile()},s.disableAllScale=function(){this._resolutions.forEach((function(t){return t.IsSetScale=!1})),this.saveToFile()},s.enableAllRect=function(){this._resolutions.forEach((function(t){return t.IsSetRect=!0})),this.saveToFile()},s.disableAllRect=function(){this._resolutions.forEach((function(t){return t.IsSetRect=!1})),this.saveToFile()},s.resetAllActiveResolutions=function(){this._resolutions.forEach((function(t){return t.IsActive=!1}))},s.addResolution=function(){var t=e(n().mark((function t(e,s,i){var u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i=!0),!(e<10||s<10)){t.next=6;break}return console.warn("Incorrect screen resolution! Id updated and sorted:"),this._resolutions.forEach((function(t){return t.updateHash()})),this._resolutions.sort((function(t,e){return t.compareTo(e)})),t.abrupt("return");case 6:if(this._resolutions.find((function(t){return t.isDuplicateResolution(e,s)}))){t.next=15;break}return u=new r(o.getNewResolutionData(e,s)),this._resolutions.push(u),this._resolutions.sort((function(t,e){return t.compareTo(e)})),this._hashTable.set(u.AspectRatio,u),t.next=13,this.saveToFile();case 13:t.next=16;break;case 15:i&&console.warn("This screen resolution already exists: "+e+"x"+s);case 16:case"end":return t.stop()}}),t,this)})));return function(e,n,s){return t.apply(this,arguments)}}(),s.removeResolution=function(t,e,n){void 0===n&&(n=!0);var s=this._resolutions.findIndex((function(n){return n.Width===t&&n.Height===e}));if(-1!==s){var i=this._resolutions[s];this._resolutions.splice(s,1),this._hashTable.delete(i.AspectRatio),this.saveToFile()}else n&&console.warn("Resolution with width "+t+" and height "+e+" not found.")},s.setActiveResolution=function(){var t=e(n().mark((function t(e,s){var i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=this.findCurrentResolution(e,s),this.resetAllActiveResolutions(),i.IsActive=!0,this.saveToFile();case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),s.changeSpace=function(t,e){this._resolutions.forEach((function(n){return n.changeSpace(t,e)})),this.saveToFile()},s.saveResolution=function(){var t=e(n().mark((function t(e,s,i,o){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.findCurrentResolution(s,i).saveFrom(e,o),this.saveToFile();case 3:case"end":return t.stop()}}),t,this)})));return function(e,n,s,i){return t.apply(this,arguments)}}(),s.setPosition=function(){var t=e(n().mark((function t(e,s){var i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=this.findCurrentResolution(e,s)).IsSetPosition=!i.IsSetPosition,this.saveToFile();case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),s.setRotation=function(){var t=e(n().mark((function t(e,s){var i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=this.findCurrentResolution(e,s)).IsSetRotation=!i.IsSetRotation,this.saveToFile();case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),s.setScale=function(){var t=e(n().mark((function t(e,s){var i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=this.findCurrentResolution(e,s)).IsSetScale=!i.IsSetScale,this.saveToFile();case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),s.setRect=function(){var t=e(n().mark((function t(e,s){var i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=this.findCurrentResolution(e,s)).IsSetRect=!i.IsSetRect,this.saveToFile();case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),s.resetSaveResolution=function(){var t=e(n().mark((function t(e,s){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.findCurrentResolution(e,s).IsSave=!1,this.saveToFile();case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),s.setIntValue=function(){var t=e(n().mark((function t(e,s,i){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.findCurrentResolution(s,i).NumberValue=e,this.saveToFile();case 3:case"end":return t.stop()}}),t,this)})));return function(e,n,s){return t.apply(this,arguments)}}(),s.setStringValue=function(){var t=e(n().mark((function t(e,s,i){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.findCurrentResolution(s,i).StringValue=e,this.saveToFile();case 3:case"end":return t.stop()}}),t,this)})));return function(e,n,s){return t.apply(this,arguments)}}(),s.findCurrentResolution=function(t,e){if(0!=this._resolutions.length)return this._resolutions.find((function(n){return n.Width===t&&n.Height===e}))},s.findResolution=function(t){if(0!=this._resolutions.length)return this.updateHashTable(),this._hashTable.has(t)?this._hashTable.get(t)||null:this.findClosestResolution(t)},s.saveToFile=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.saveResolutions(this._fileName,this._resolutions);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Failed to save file:",t.t0);case 8:case"end":return t.stop()}}),t,this,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),s.updateHashTable=function(){var t=this;this._hashTable.size!=this._resolutions.length&&(this._hashTable.clear(),this._resolutions.forEach((function(e){return t._hashTable.set(e.AspectRatio,e)})))},s.findClosestResolution=function(t){var e=0,n=this._resolutions.length-1;if(t<this._resolutions[e].AspectRatio)return this._resolutions[e];if(t>this._resolutions[n].AspectRatio)return this._resolutions[n];for(;e+1<n;){var s=e+Math.floor((n-e)/2);if(this._resolutions[s].AspectRatio===t)return this._resolutions[s];this._resolutions[s].AspectRatio<t?e=s:n=s}return Math.abs(this._resolutions[e].AspectRatio-t)<Math.abs(this._resolutions[n].AspectRatio-t)?this._resolutions[e]:this._resolutions[n]},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenAnimation.ts","./ResourceBar.ts","./Audio.ts"],(function(n){var o,i,e,t,a,r,s,u,c,l,v,p,d,h,D;return{setters:[function(n){o=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,t=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.Node,u=n.Camera,c=n.CCFloat,l=n.Vec3,v=n.Component,p=n.math},function(n){d=n.TweenAnimation},function(n){h=n.ResourcesBar},function(n){D=n.Audio}],execute:function(){var w,f,m,g,P,b,R,T,y,O,I,C,U,z,A,L,W,S,E;a._RF.push({},"7ea8fghu4lPJqKWXu+mZnbT","ResourceAnimation",void 0);var V=r.ccclass,N=r.property;n("ResourceAnimation",(w=V("ResourceAnimation"),f=N(h),m=N([s]),g=N(u),P=N(c),b=N(c),R=N(c),T=N(c),y=N(c),w((C=o((I=function(n){function o(){for(var o,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return o=n.call.apply(n,[this].concat(a))||this,e(o,"bar",C,t(o)),e(o,"resources",U,t(o)),e(o,"mainCamera",z,t(o)),e(o,"spawnPositionDeviation",A,t(o)),e(o,"showDuration",L,t(o)),e(o,"showDurationDeviation",W,t(o)),e(o,"moveDuration",S,t(o)),e(o,"hideDuration",E,t(o)),o.canUpdateValue=void 0,o}i(o,n);var a=o.prototype;return a.start=function(){for(var n=0;n<this.resources.length;n++){this.resources[n].setScale(l.ZERO)}},a.startWordToUI=function(n,o,i){var e=this;this.canUpdateValue=!0;for(var t,a=function(){var a=e.resources[r],s=new l(p.randomRange(-e.spawnPositionDeviation,e.spawnPositionDeviation),p.randomRange(-e.spawnPositionDeviation,e.spawnPositionDeviation),p.randomRange(-e.spawnPositionDeviation,e.spawnPositionDeviation)),u=e.convertToLocalUI(n);t=o.getWorldPosition(),a.setPosition(u.add(s));var c=e.showDuration+p.randomRange(-e.showDurationDeviation,e.showDurationDeviation);d.scaleTo(a,l.ONE,c,"sineInOut",(function(){D.instance.PlaySoundOneShot("Collect"),d.moveTo(a,t,e.moveDuration,"sineInOut",(function(){d.scaleTo(a,l.ZERO,e.hideDuration,"sineInOut"),e.changeResourceCount(i)}))}))},r=0;r<this.resources.length;r++)a()},a.startUItoWorld=function(n,o,i,e){var t=this;void 0===e&&(e=!1),this.canUpdateValue=!0;for(var a,r=function(){var r=t.resources[s],u=new l(p.randomRange(-t.spawnPositionDeviation,t.spawnPositionDeviation),p.randomRange(-t.spawnPositionDeviation,t.spawnPositionDeviation),p.randomRange(-t.spawnPositionDeviation,t.spawnPositionDeviation)),c=n.getWorldPosition();a=t.convertToLocalUI(o),r.setWorldPosition(c.add(u));var v=t.showDuration+p.randomRange(-t.showDurationDeviation,t.showDurationDeviation);d.scaleTo(r,l.ONE,v,"sineInOut",(function(){D.instance.PlaySoundOneShot("Collect"),d.moveToLocal(r,a,t.moveDuration,"sineInOut",(function(){d.scaleTo(r,l.ZERO,t.hideDuration,"sineInOut"),t.changeResourceCount(i,e)}))}))},s=0;s<this.resources.length;s++)r()},a.startWorldToWorld=function(n,o,i){var e=this;this.canUpdateValue=!0;for(var t,a=function(){var a=e.resources[r],s=new l(p.randomRange(-e.spawnPositionDeviation,e.spawnPositionDeviation),p.randomRange(-e.spawnPositionDeviation,e.spawnPositionDeviation),p.randomRange(-e.spawnPositionDeviation,e.spawnPositionDeviation)),u=e.convertToLocalUI(n);t=e.convertToLocalUI(o),a.setPosition(u.add(s));var c=e.showDuration+p.randomRange(-e.showDurationDeviation,e.showDurationDeviation);d.scaleTo(a,l.ONE,c,"sineInOut",(function(){D.instance.PlaySoundOneShot("Collect"),d.moveToLocal(a,t,e.moveDuration,"sineInOut",(function(){d.scaleTo(a,l.ZERO,e.hideDuration,"sineInOut"),e.changeResourceCount(i)}))}))},r=0;r<this.resources.length;r++)a()},a.changeResourceCount=function(n,o){void 0===o&&(o=!1),0!=this.canUpdateValue&&(this.canUpdateValue=!1,this.bar.add(n,o))},a.forceChangeResourceCount=function(n){this.bar.add(n)},a.convertToLocalUI=function(n){var o=n.getWorldPosition(),i=new l;return this.mainCamera.convertToUINode(o,this.node.parent,i),new l(i.x,i.y,this.node.position.z)},o}(v)).prototype,"bar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=o(I.prototype,"resources",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=o(I.prototype,"mainCamera",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=o(I.prototype,"spawnPositionDeviation",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=o(I.prototype,"showDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),W=o(I.prototype,"showDurationDeviation",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),S=o(I.prototype,"moveDuration",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.7}}),E=o(I.prototype,"hideDuration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),O=I))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Audio.ts"],(function(t){var e,n,i,r,o,a,u,c,s,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,u=t.Label,c=t.tween,s=t.Component},function(t){l=t.Audio}],execute:function(){var p,h,d,f,v,T,x;o._RF.push({},"ac3d8V1UQBLvYL3QDBz2mWx","ResourceBar",void 0);var b=a.ccclass,m=a.property;t("ResourcesBar",(p=b("ResourcesBar"),h=m(u),p((v=e((f=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"text",v,r(e)),i(e,"count",T,r(e)),i(e,"animationTime",x,r(e)),e.currentTextTween=null,e}n(e,t);var o=e.prototype;return o.start=function(){this.textUpdate(this.count)},o.add=function(t,e){void 0===e&&(e=!1);var n=e?0:this.count+t;this.addResource(n)},o.addResource=function(t){var e=this;this.currentTextTween&&(this.currentTextTween.stop(),this.currentTextTween=null);var n={value:this.count},i=Math.abs(t-this.count)*this.animationTime;i<=.2&&(i=.2),this.currentTextTween=c(n).to(i,{value:t},{onUpdate:function(){e.count=n.value,e.textUpdate(e.count),l.instance.PlaySoundOneShot("Take")}}).start()},o.textUpdate=function(t){this.text.string=t.toFixed(0)},e}(s)).prototype,"text",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(f.prototype,"count",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=e(f.prototype,"animationTime",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),d=f))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/rewarded_callback.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"e0c4eLHWCNPuoCVatWpgw2m","rewarded_callback",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/RollLookAt.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,r,l,i,n,a,s,u,c,p;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){i=t.cclegacy,n=t._decorator,a=t.Node,s=t.Vec3,u=t.math,c=t.Quat,p=t.Component}],execute:function(){var h,R,d,f,g,v;i._RF.push({},"d93f0MwxIBI55aZWeUdaYRu","RollLookAt",void 0);var y=n.ccclass,m=n.property;t("RollLookAt",(h=y("RollLookAt"),R=m({type:a}),h((g=o((f=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return o=t.call.apply(t,[this].concat(i))||this,r(o,"targetNode",g,l(o)),r(o,"rotationRollSpeed",v,l(o)),o.targetRoll=0,o.currentRoll=0,o.rotationRollComplete=!0,o}e(o,t);var i=o.prototype;return i.update=function(t){this.lookRollAtTarget(this.targetNode,t)},i.lookRollAtTarget=function(t,o){if(t){var e=t.worldPosition,r=this.node.worldPosition,l=new s;if(s.subtract(l,e,r),!(s.len(l)<u.EPSILON)){if(this.node.parent){var i=new c;c.invert(i,this.node.parent.worldRotation),s.transformQuat(l,l,i)}var n=Math.atan2(l.y,l.x);this.targetRoll=180*n/Math.PI;var a=this.currentRoll%360;a>180?a-=360:a<-180&&(a+=360);var p=this.targetRoll-a;if(p>180?p-=360:p<-180&&(p+=360),Math.abs(p)>.1){this.rotationRollComplete=!1;var h=p*o*this.rotationRollSpeed;this.currentRoll=a+h,this.node.eulerAngles=new s(0,0,this.currentRoll)}else this.rotationRollComplete||(this.rotationRollComplete=!0,console.log("Roll rotated"))}}},o}(p)).prototype,"targetNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=o(f.prototype,"rotationRollSpeed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),d=f))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,r,i,n,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator,i=e.Sprite,n=e.Color,s=e.Eventify,c=e.Component}],execute:function(){var a;o._RF.push({},"be192AjvNNDWb5PN9GRN/0z","ScreenBase",void 0);var l=r.ccclass;e("ScreenBase",l("ScreenBase")(a=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).sprite=void 0,t}t(o,e);var r=o.prototype;return r.show=function(){this.setColor(255)},r.hide=function(){this.setColor(0)},r.immediatelyHide=function(){this.setColor(0)},r.setColor=function(e){this.sprite||(this.sprite=this.getComponent(i),this.sprite||(this.sprite=this.addComponent(i)));var t=this.sprite.color.clone();this.sprite.color=new n(t.r,t.g,t.b,e)},o}(s(c)))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenRatio.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,o,n,s,h,r,a,c,u,w,d;return{setters:[function(i){t=i.inheritsLoose,e=i.applyDecoratedDescriptor,o=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){s=i.cclegacy,h=i._decorator,r=i.director,a=i.Camera,c=i.view,u=i.screen,w=i.Eventify,d=i.Component}],execute:function(){var p,g,l;s._RF.push({},"62b37n5i2ZFV7H+FWEoQV7l","ScreenRatio",void 0);var v=h.ccclass,R=h.executeInEditMode,f=h.property,_=i("Ratio",function(i){return i[i.Portrait=0]="Portrait",i[i.Landscape=1]="Landscape",i[i.None=2]="None",i}({}));i("ScreenRatio",v("ScreenRatio")(p=R((g=function(i){function e(){for(var t,e=arguments.length,s=new Array(e),h=0;h<e;h++)s[h]=arguments[h];return t=i.call.apply(i,[this].concat(s))||this,o(t,"isDebag",l,n(t)),t.orthoCameras=[],t._previousWidth=0,t._previousHeight=0,t._previousRatioUpdate=_.None,t._switchResolution="switch-resolution",t._switchRatio="switch-ratio",t._previousDesignWidth=0,t._previousDesignHeight=0,t}t(e,i);var s=e.prototype;return s.onLoad=function(){this.findOrthoCameras(),this.updateRatio()},s.findOrthoCameras=function(){var i=this;this.orthoCameras=[];var t=r.getScene();t&&t.walk((function(t){var e=t.getComponent(a);e&&e.projection===a.ProjectionType.ORTHO&&i.orthoCameras.push(e)}))},s.addSwitchedResolutionListener=function(i){this.on(this._switchResolution,i)},s.removeSwitchedResolutionListener=function(i){this.off(this._switchResolution,i)},s.addSwitchedRatioListener=function(i){this.on(this._switchRatio,i)},s.removeSwitchedRatioListener=function(i){this.off(this._switchRatio,i)},s.hasAction=function(i){return this.hasEventListener(this._switchResolution,i)},s.updateRatio=function(){this._previousWidth=0,this._previousHeight=0,this._previousRatioUpdate=_.None,this._previousDesignWidth=0,this._previousDesignHeight=0},s.update=function(){CC_EDITOR&&this.trySwitchDesignResolution(),this.trySwitchRatio(),this.trySwitchResolution()},s.trySwitchDesignResolution=function(){var i=c.getDesignResolutionSize();if(this._previousDesignWidth!==i.width||this._previousDesignHeight!==i.height){var t=(i.width+1)/i.height;this.orthoCameras.forEach((function(t){t.orthoHeight=i.height/2})),this.isDebag&&(console.log("editor new resolution: "+u.windowSize.width+" x "+u.windowSize.height),console.log("editor new design resolution: "+i.width+" x "+i.height)),this.emit(this._switchResolution,t)}this._previousDesignWidth=i.width,this._previousDesignHeight=i.height},s.trySwitchResolution=function(){if(this._previousWidth!==u.windowSize.width||this._previousHeight!==u.windowSize.height){var i=(u.windowSize.width+1)/u.windowSize.height;this.isDebag&&console.log("new resolution: "+u.windowSize.width+" x "+u.windowSize.height),this.emit(this._switchResolution,i)}this._previousWidth=u.windowSize.width,this._previousHeight=u.windowSize.height},s.trySwitchRatio=function(){var i=this.getCurrentRatio();this._previousRatioUpdate!==i&&this.emit(this._switchRatio,i),this._previousRatioUpdate=i},s.getCurrentRatio=function(){return this.checkPortrait()?_.Portrait:_.Landscape},s.checkPortrait=function(){return!(u.windowSize.height>0)||u.windowSize.width/u.windowSize.height<1},e}(w(d)),l=e(g.prototype,"isDebag",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=g))||p)||p);s._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenResizer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,i,s,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,s=e.view,o=e.Component}],execute:function(){var r;t._RF.push({},"6e134eeQXhBMqj8YC8MGutx","ScreenResizer",void 0);var c=i.ccclass;e("ScreenResizer",c("ScreenResizer")(r=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(n=e.call.apply(e,[this].concat(i))||this).newDesignWidth=555,n.newDesignHeight=555,n}n(t,e);var i=t.prototype;return i.onLoad=function(){this.setDesignResolution(this.newDesignWidth,this.newDesignHeight)},i.setDesignResolution=function(e,n){s.setDesignResolutionSize(e,n,0),console.log("Design resolution set to: "+e+" x "+n)},t}(o))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/Screens.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenBase.ts"],(function(e){var n,s,r,t,c;return{setters:[function(e){n=e.inheritsLoose},function(e){s=e.cclegacy,r=e._decorator,t=e.Component},function(e){c=e.ScreenBase}],execute:function(){var i;s._RF.push({},"b60f3OjCwlCYKEmd02rnH6J","Screens",void 0);var o=r.ccclass;r.property,e("Screens",o("Screens")(i=function(e){function s(){for(var n,s=arguments.length,r=new Array(s),t=0;t<s;t++)r[t]=arguments[t];return(n=e.call.apply(e,[this].concat(r))||this).screens=[],n}n(s,e);var r=s.prototype;return r.onLoad=function(){this.screens=this.getComponentsInChildren(c),this.disable()},r.get=function(e){for(var n=0;n<this.screens.length;n++)if(this.screens[n]instanceof e)return this.screens[n]},r.disable=function(){for(var e=0;e<this.screens.length;++e)this.screens[e].immediatelyHide()},s}(t))||i);s._RF.pop()}}}));

System.register("chunks:///_virtual/SkinButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseButton.ts","./SpaceshipType.ts","./Audio.ts"],(function(t){var e,i,n,o,r,c,p,s,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator},function(t){p=t.BaseButton},function(t){s=t.SpaceshipType},function(t){a=t.Audio}],execute:function(){var u,l,h,y,f,d;r._RF.push({},"b523cKuKTlP8ZxO4npAoVd8","SkinButton",void 0);var S=c.ccclass,k=c.property;t("SkinButton",(u=S("SkinButton"),l=k({type:s}),u((f=e((y=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).CHANGE_SKIN_EVENT="changeSkinEvent",n(e,"spaceshipType",f,o(e)),n(e,"price",d,o(e)),e}return i(e,t),e.prototype.onClicked=function(){t.prototype.onClicked.call(this),a.instance.PlaySoundOneShot("Click"),this.node.emit(this.CHANGE_SKIN_EVENT,this.spaceshipType,this.price)},e}(p)).prototype,"spaceshipType",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.Dominion}}),d=e(y.prototype,"price",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=y))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/SkinButtonsHolder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkinButton.ts"],(function(t){var n,e,r,o,i,u,s,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,u=t._decorator,s=t.Component},function(t){c=t.SkinButton}],execute:function(){var l,a,p,f,d;i._RF.push({},"f524887+YpH3bzR55gv8u56","SkinButtonsHolder",void 0);var y=u.ccclass,b=u.property;t("SkinButtonsHolder",(l=y("SkinButtonsHolder"),a=b([c]),l((d=n((f=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),u=0;u<e;u++)i[u]=arguments[u];return n=t.call.apply(t,[this].concat(i))||this,r(n,"buttons",d,o(n)),n}return e(n,t),n}(s)).prototype,"buttons",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/SpaceshipAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,e,r,a,o,c,p;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){a=i.cclegacy,o=i._decorator,c=i.Animation,p=i.Component}],execute:function(){var s,l,u,h,m;a._RF.push({},"ae2a8qUckVOG6hrcLbyE526","SpaceshipAnimation",void 0);var f=o.ccclass,y=o.property;i("SpaceShipAnimation",(s=f("SpaceShipAnimation"),l=y(c),s((m=t((h=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=i.call.apply(i,[this].concat(a))||this,e(t,"anim",m,r(t)),t}return n(t,i),t.prototype.start=function(){this.anim&&this.anim.play("SpaceshipStart")},t}(p)).prototype,"anim",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=h))||u));a._RF.pop()}}}));

System.register("chunks:///_virtual/SpaceshipController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TurretController.ts"],(function(t){var e,r,n,o,i,a,l,c,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,l=t.Prefab,c=t.instantiate,s=t.Component},function(t){u=t.TurretController}],execute:function(){var f,p,h,y,d,b,v,D,g;i._RF.push({},"5ed90aaxltEBpSb3IbJUZoA","SpaceshipController",void 0);var C=a.ccclass,S=a.property;t("SpaceshipController",(f=C("SpaceshipController"),p=S([u]),h=S(l),y=S({tooltip:"Задержка между активацией турелей (секунды)"}),f((v=e((b=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(e,"turrets",v,o(e)),n(e,"effectOnDestroy",D,o(e)),n(e,"activationDelay",g,o(e)),e}r(e,t);var i=e.prototype;return i.onLoad=function(){},i.start=function(){},i.update=function(t){},i.setTargetForTurrets=function(t){var e=this;this.turrets.forEach((function(r,n){e.scheduleOnce((function(){r.setTarget(t),r.allowShooting=!0}),n*e.activationDelay)}))},i.onDestroy=function(){if(null!=this.effectOnDestroy){var t=c(this.effectOnDestroy);t.setWorldPosition(this.node.worldPosition),this.node.scene.addChild(t)}},e}(s)).prototype,"turrets",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(b.prototype,"effectOnDestroy",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(b.prototype,"activationDelay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),d=b))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/SpaceshipPick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,c,n,a,o,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,c=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,o=e.Node,p=e.Component}],execute:function(){var s,u,l,h,f;n._RF.push({},"b4a5596hulO8L3L3BILEHex","SpaceshipPick",void 0);var y=a.ccclass,d=a.property;e("SpaceshipPick",(s=y("SpaceshipPick"),u=d([o]),s((f=i((h=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return i=e.call.apply(e,[this].concat(n))||this,r(i,"spaceships",f,c(i)),i}t(i,e);var n=i.prototype;return n.start=function(){},n.update=function(e){},n.spaceshipPick=function(){},i}(p)).prototype,"spaceships",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=h))||l));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpaceshipType.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,r,n,t,o,p,c,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){o=e.cclegacy,p=e._decorator,c=e.Enum,a=e.Component}],execute:function(){var s,u,l,h,y;o._RF.push({},"856b6S5DClJnID/GbCoA3zJ","SpaceshipType",void 0);var f=p.ccclass,v=p.property,D=e("SpaceshipType",function(e){return e[e.Dominion=0]="Dominion",e[e.Voidreaver=1]="Voidreaver",e}({}));c(D);e("Spaceship",(s=f("Spaceship"),u=v({type:D}),s((y=i((h=function(e){function i(){for(var i,r=arguments.length,o=new Array(r),p=0;p<r;p++)o[p]=arguments[p];return i=e.call.apply(e,[this].concat(o))||this,n(i,"spaceshipType",y,t(i)),i}return r(i,e),i}(a)).prototype,"spaceshipType",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.Dominion}}),l=h))||l));o._RF.pop()}}}));

System.register("chunks:///_virtual/Spline.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,o,i,r,a,s,l,d,h,c,g,u,f,P,p,m,v,S,T,w,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,d=t._decorator,h=t.Node,c=t.Enum,g=t.Line,u=t.Prefab,f=t.CCFloat,P=t.Color,p=t.Vec3,m=t.MeshRenderer,v=t.CurveRange,S=t.GradientRange,T=t.tween,w=t.Component,C=t.assetManager}],execute:function(){var b,y,z,A,M,R,L,E,N,x,F,B,H,I,q,U,D,k,O,j,V,X,_,W,G,Y,J,K,Q,Z,$,tt,nt,et,ot;l._RF.push({},"b3c6dlHVfNBhYprTSNaodW+","Spline",void 0);var it=d.ccclass,rt=d.property,at=d.executeInEditMode,st=(b=it("CurveSegment"),y=rt(h),z=rt(h),A=rt(h),M=rt(h),b((E=n((L=function(){function t(){o(this,"startPoint",E,this),o(this,"endPoint",N,this),o(this,"startTangent",x,this),o(this,"endTangent",F,this)}return t.prototype.hasChanged=function(t){return!t||!(this.startPoint.worldPosition.equals(t.startPoint.worldPosition)&&this.endPoint.worldPosition.equals(t.endPoint.worldPosition)&&this.startTangent.worldPosition.equals(t.startTangent.worldPosition)&&this.endTangent.worldPosition.equals(t.endTangent.worldPosition))},t}()).prototype,"startPoint",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(L.prototype,"endPoint",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(L.prototype,"startTangent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(L.prototype,"endTangent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=L))||R),lt=function(t){return t[t.Mirrored=0]="Mirrored",t[t.Aligned=1]="Aligned",t[t.Free=2]="Free",t[t.Automatic=3]="Automatic",t}(lt||{});t("Spline",(B=it("Spline"),H=rt({type:c(lt)}),I=rt([st]),q=rt(g),U=rt({type:u}),D=rt({type:f,min:1,max:10}),k=rt(P),O=rt(P),j=rt(P),V=rt(P),B(X=at((W=n((_=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,o(n,"tangentMode",W,i(n)),o(n,"controlSegments",G,i(n)),o(n,"lineRenderer",Y,i(n)),o(n,"curveResolution",J,i(n)),o(n,"showTangents",K,i(n)),o(n,"showAllTangents",Q,i(n)),o(n,"handle",Z,i(n)),n.tangent=null,n.handleMaterial=null,o(n,"handleSize",$,i(n)),o(n,"pointColor",tt,i(n)),o(n,"mainLineColor",nt,i(n)),o(n,"firstTangentColor",et,i(n)),o(n,"secondTangentColor",ot,i(n)),n.lastSegmentPositions={},n.tangentLines=[],n.currentTangentColorIndex=0,n.curveRenderer=null,n.pointsParent=null,n.selectedNodeUUID=null,n.tangentLinesParent=null,n.lastEditedTangent=null,n.lastOppositeTangent=null,n.lastFullCurvePoints=void 0,n}e(n,t);var l=n.prototype;return l.getAllProperties=function(){return{curveResolution:this.curveResolution,showTangents:this.showTangents,showAllTangents:this.showAllTangents,handleSize:this.handleSize,tangentMode:this.tangentMode,pointColor:this.colorToHex(this.pointColor),mainLineColor:this.colorToHex(this.mainLineColor),firstTangentColor:this.colorToHex(this.firstTangentColor),secondTangentColor:this.colorToHex(this.secondTangentColor)}},l.getControlSegments=function(){return this.controlSegments.map((function(t){return{startPoint:t.startPoint.uuid,startTangent:t.startTangent.uuid,endPoint:t.endPoint.uuid,endTangent:t.endTangent.uuid}}))},l.setHandlePrefab=function(){var t=a(s().mark((function t(n){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.loadAny({uuid:n},(function(t,n){t?console.error("Ошибка загрузки Handle.prefab по UUID:",t):e.handle=n}));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),l.setTangentPrefab=function(){var t=a(s().mark((function t(n){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.loadAny({uuid:n},(function(t,n){t?console.error("Ошибка загрузки Handle.prefab по UUID:",t):e.tangent=n}));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),l.setHandleMaterial=function(){var t=a(s().mark((function t(n){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.loadAny({uuid:n},(function(t,n){t?console.error("Ошибка загрузки материала:",t):e.handleMaterial=n}));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),l.onLoad=function(){this.ensureCurveRenderer(),this.restoreSegmentsFromScene(),this.controlSegments.length>0?this.drawSplineCurve(this.controlSegments):console.warn("[Spline] Нет сегментов для отрисовки.")},l.start=function(){var t=this.node.getChildByName("TangentLines");t?(this.tangentLinesParent=t,this.restoreTangentLinesFromChildren()):(this.tangentLinesParent=new h("TangentLines"),this.node.addChild(this.tangentLinesParent))},l.update=function(){if(this.enabled){var t=this.controlSegments;if(this.haveSegmentsChanged(t))if(this.drawSplineCurve(t),this.updateLastSegmentPositions(t),this.showTangents&&this.tangentMode!==lt.Automatic)if(this.drawTangents(t),this.lastEditedTangent&&this.lastOppositeTangent!==this.lastEditedTangent){var n=this.lastEditedTangent.parent;this.updateTangentPositions(n,this.lastEditedTangent)}else this.lastOppositeTangent=null;else this.clearTangents(),this.lineRenderer&&(this.lineRenderer.enabled=!1)}},l.createStartSegment=function(){0==this.controlSegments.length&&this.addNewSegment()},l.haveSegmentsChanged=function(t){if(this.lastEditedTangent=null,t.length!==Object.keys(this.lastSegmentPositions).length)return!0;for(var n=0;n<t.length;n++){var e=t[n],o=this.lastSegmentPositions[n];if(!o||!e.startPoint.worldPosition.equals(o[0])||!e.endPoint.worldPosition.equals(o[1]))return this.autoSetAllAnchorControlPoints(5),!0;if(!e.startTangent.worldPosition.equals(o[2]))return this.lastEditedTangent=e.startTangent,!0;if(!e.endTangent.worldPosition.equals(o[3]))return this.lastEditedTangent=e.endTangent,!0}return!1},l.generateBezierSegment=function(t,n,e,o){for(var i=[],r=0;r<=this.curveResolution;r++){var a=r/this.curveResolution,s=this.calculateBezierPoint(a,t,n,e,o);0!==i.length&&s.equals(i[i.length-1])||i.push(s)}return i},l.calculateBezierPoint=function(t,n,e,o,i){var r=1-t,a=t*t,s=r*r,l=s*r,d=a*t;return new p(l*n.x+3*s*t*e.x+3*r*a*o.x+d*i.x,l*n.y+3*s*t*e.y+3*r*a*o.y+d*i.y,l*n.z+3*s*t*e.z+3*r*a*o.z+d*i.z)},l.ensureCurveRenderer=function(){this.curveRenderer=this.node.getChildByName("MainCurve"),this.curveRenderer||(this.curveRenderer=new h("MainCurve"),this.node.addChild(this.curveRenderer))},l.addNewSegment=function(){this.pointsParent=this.node.getChildByName("Points"),this.pointsParent||(this.pointsParent=new h("Points"),this.node.addChild(this.pointsParent));var t,n=this.controlSegments.length,e=(new p(1,0,0),new p(0,0,10));if(n>0&&this.lastFullCurvePoints&&this.lastFullCurvePoints.length>=6){for(var o=this.lastFullCurvePoints.length,i=new p(0,0,0),r=o-6;r<o;r++)this.lastFullCurvePoints[r];for(var a=0;a<4;a++){var s=o-2-a,l=s+1,d=this.lastFullCurvePoints[s],c=this.lastFullCurvePoints[l].clone().subtract(d);i.add(c)}i.multiplyScalar(1/4),i.y=0,i.lengthSqr()<1e-4&&i.set(1,0,0),i.normalize();var g=this.lastFullCurvePoints[o-1];(e=g.clone().add(i.multiplyScalar(5))).y=g.y,i}0===n?((t=this.instancePrefab(this.handle)).name="CurvePoint0",this.pointsParent.addChild(t),t.setPosition(0,0,0)):t=this.controlSegments[n-1].endPoint;var u=this.instancePrefab(this.handle);u.name="CurvePoint"+(n+1),u.setPosition(e),this.pointsParent.addChild(u);var f=this.createTangent("TangentStart-CurvePoint"+n);t.addChild(f),f.setPosition(0,3,0);var P=this.createTangent("TangentEnd-CurvePoint"+(n+1));u.addChild(P),P.setPosition(0,-3,0);var m=new st;m.startPoint=t,m.endPoint=u,m.startTangent=f,m.endTangent=P,this.controlSegments.push(m),this.drawSplineCurve(this.controlSegments),this.tangentMode!==lt.Automatic&&(this.drawTangents(this.controlSegments),this.updateShowAllTangents(this.showAllTangents)),this.tangentMode===lt.Automatic&&this.autoSetAllAnchorControlPoints(5)},l.createTangent=function(t){var n=new h(t);if(this.tangentMode!==lt.Automatic&&this.showAllTangents&&this.showTangents){var e,o=n.addComponent(m);o.material=this.handleMaterial;var i=null==(e=this.tangent)?void 0:e.data.getComponent(m);i?o.mesh=i.mesh:console.error("[Spline] Ошибка: MeshRenderer не найден в префабе!")}return n},l.insertSegmentAt=function(t){if(0!==this.controlSegments.length)if(t<0||t>=this.controlSegments.length)console.warn("[Spline] Ошибка: индекс "+t+" выходит за пределы массива сегментов.");else{this.pointsParent=this.node.getChildByName("Points"),this.pointsParent||(this.pointsParent=new h("Points"),this.node.addChild(this.pointsParent));var n=this.controlSegments[t],e=this.calculateBezierPoint(.5,n.startPoint.worldPosition,n.startTangent.worldPosition,n.endTangent.worldPosition,n.endPoint.worldPosition),o=this.instancePrefab(this.handle);o.name="NewControlPoint",o.setPosition(e),this.pointsParent.addChild(o);var i=this.instancePrefab(this.tangent);i.name="NewStartTangent",i.setPosition(0,3,0),n.startPoint.addChild(i);var r=this.instancePrefab(this.tangent);r.name="NewEndTangent",r.setPosition(0,-3,0),o.addChild(r);var a=new st;a.startPoint=n.startPoint,a.endPoint=o,a.startTangent=i,a.endTangent=r,n.startTangent&&n.startTangent.destroy();var s=this.instancePrefab(this.tangent);s.name="UpdatedStartTangent",s.setPosition(0,3,0),o.addChild(s),n.startPoint=o,n.startTangent=s,this.controlSegments.splice(t,0,a),this.renameTangents(),this.drawSplineCurve(this.controlSegments),this.clearTangents(),this.drawTangents(this.controlSegments)}else console.warn("[Spline] Нет сегментов для вставки нового между ними.")},l.instancePrefab=function(t){var n=new h("Segment");if(!t||!t.data)return console.error("[Spline] Ошибка: создаваемый префаб не загружен или пуст!"),n;if(this.showTangents){var e=t.data.getComponent(m);if(e){var o=n.addComponent(m);o.mesh=e.mesh,o.material=this.handleMaterial}else console.error("[Spline] Ошибка: MeshRenderer не найден в префабе!")}return n},l.removeSegmentByIndex=function(t){if(t<0||t>=this.controlSegments.length)console.warn("Ошибка: индекс "+t+" выходит за пределы массива");else{var n=this.controlSegments[t];0===t&&n.startTangent&&n.startTangent.destroy(),n.endTangent&&n.endTangent.destroy(),0===t&&n.startPoint&&n.startPoint.destroy(),t===this.controlSegments.length-1&&n.endPoint&&n.endPoint.destroy(),t>0&&t<this.controlSegments.length-1&&(n.endPoint.destroy(),this.controlSegments[t+1].startPoint=n.startPoint,this.controlSegments[t+1].startTangent=n.startTangent),this.controlSegments.splice(t,1),this.renameTangents(),this.drawSplineCurve(this.controlSegments),this.clearTangents(),this.drawTangents(this.controlSegments)}},l.drawSplineCurve=function(t){this.ensureCurveRenderer(),this.curveRenderer.removeAllChildren();var n=new h("LineSegment-0"),e=n.addComponent(g),o=[];e.width=new v,e.width.constant=.5,e.color=new S,e.color.mode=S.Mode.Color,e.color.color=this.mainLineColor,e.worldSpace=!0,this.curveRenderer.addChild(n);for(var i,a=[],s=r(t);!(i=s()).done;){var l=i.value;if(l.startPoint&&l.endPoint&&l.startTangent&&l.endTangent){var d=this.generateBezierSegment(l.startPoint.worldPosition,l.startTangent.worldPosition,l.endTangent.worldPosition,l.endPoint.worldPosition);if(a.push.apply(a,d),0===d.length){console.warn("[Spline] Ошибка: segmentPoints пуст!");continue}for(var c,u=r(d);!(c=u()).done;){var f=c.value;o.push(f),o.length>=99&&(e&&(e.positions=[].concat(o),e.enabled=!0),(e=(n=new h("LineSegment-"+this.curveRenderer.children.length)).addComponent(g)).width=new v,e.width.constant=.5,e.color=new S,e.color.mode=S.Mode.Color,e.color.color=this.mainLineColor,e.worldSpace=!0,o=[o[o.length-1]],this.curveRenderer.addChild(n))}}else console.warn("[Spline] Пропущен сегмент: одна из точек null")}this.lastFullCurvePoints=a,e&&(e.positions=[].concat(o),e.enabled=!0)},l.getAnchorPoints=function(){var t=[];if(0===this.controlSegments.length)return t;t.push(this.controlSegments[0].startPoint);for(var n,e=r(this.controlSegments);!(n=e()).done;){var o=n.value;t.push(o.endPoint)}return t},l.drawTangents=function(t){var n=this;this.clearTangents(),this.currentTangentColorIndex=0,this.tangentMode!==lt.Automatic&&t.forEach((function(t,e){if(t.startPoint&&t.startTangent&&t.endPoint&&t.endTangent){var o=n.currentTangentColorIndex%2==0?n.firstTangentColor:n.secondTangentColor;n.currentTangentColorIndex++,(n.showAllTangents||n.isNodeSelected(t.startPoint)||n.isNodeSelected(t.endPoint))&&(n.updateTangentLine(t.startPoint.worldPosition,t.startTangent.worldPosition,o,"Segment"+e+"-Start"),n.updateTangentLine(t.endPoint.worldPosition,t.endTangent.worldPosition,o,"Segment"+e+"-End"))}else console.warn("Один из сегментов имеет null значения точек или тангенсов",t)}))},l.isNodeSelected=function(t){return t.uuid===this.selectedNodeUUID},l.updateTangentLine=function(t,n,e,o){var i=this.tangentLines.find((function(t){return t.name===o}));if(i){var r=i.getComponent(g);r&&(r.positions=[t.clone(),n.clone()],i.active=!1,i.active=!0)}else{(i=new h(o)).parent=this.tangentLinesParent;var a=i.addComponent(g);a.positions=[t.clone(),n.clone()],a.width=new v,a.width.constant=.5,a.color=new S,a.color.mode=S.Mode.Color,a.color.color=e,a.worldSpace=!0,i.active=!1,i.active=!0,this.tangentLines.push(i)}},l.updateAllPointColors=function(){var t=this;this.controlSegments.forEach((function(n){[n.startPoint,n.endPoint].forEach((function(n){if(n){var e=n.getComponent(m);e&&e.material&&(e.material.setProperty("mainColor",t.pointColor),e.node.active=!1,e.node.active=!0)}}))}))},l.updateLastSegmentPositions=function(t){var n=this;this.lastSegmentPositions={},t.forEach((function(t,e){n.lastSegmentPositions[e]=[t.startPoint.worldPosition.clone(),t.endPoint.worldPosition.clone(),t.startTangent.worldPosition.clone(),t.endTangent.worldPosition.clone()]}))},l.renameTangents=function(){for(var t=0;t<this.controlSegments.length;t++){var n=this.controlSegments[t];n.startPoint&&(n.startPoint.name="CurvePoint"+t),n.endPoint&&(n.endPoint.name="CurvePoint"+(t+1)),n.startTangent&&(n.startTangent.name="TangentStart-CurvePoint"+t),n.endTangent&&(n.endTangent.name="TangentEnd-CurvePoint"+(t+1))}},l.restoreTangentLinesFromChildren=function(){this.tangentLines.length=0;for(var t,n=r(this.tangentLinesParent.children);!(t=n()).done;){var e=t.value,o=e.getComponent(g);o&&2===o.positions.length?this.tangentLines.push(e):console.warn("Невалидная линия тангенса: "+e.name)}},l.restoreSegmentsFromScene=function(){var t=this.node.getChildByName("Points");if(t){var n=t.children.filter((function(t){return t.name.startsWith("CurvePoint")}));if(0!==n.length){this.controlSegments=[],n.sort((function(t,n){return parseInt(t.name.replace("CurvePoint",""))-parseInt(n.name.replace("CurvePoint",""))}));for(var e=0;e<n.length-1;e++){var o=n[e],i=n[e+1],r=o.getChildByName("TangentStart-CurvePoint"+e),a=i.getChildByName("TangentEnd-CurvePoint"+(e+1));if(r&&a){var s=new st;s.startPoint=o,s.endPoint=i,s.startTangent=r,s.endTangent=a,this.controlSegments.push(s)}else console.warn("[Spline] Не найдены тангенты для CurvePoint"+e)}}else console.warn("[Spline] Не найдено ни одной точки.")}else console.warn("[Spline] Points не найдены, восстановление невозможно.")},l.clearCurve=function(){this.node.children.forEach((function(t){t.destroy()})),this.controlSegments=[],this.lastSegmentPositions={},this.clearTangents(),this.showTangents=!0,this.tangentLinesParent=new h("TangentLines"),this.node.addChild(this.tangentLinesParent)},l.clearTangents=function(){for(var t,n=r(this.tangentLines);!(t=n()).done;){t.value.destroy()}this.tangentLines=[]},l.updateCurveResolution=function(t){this.curveResolution=t,this.drawSplineCurve(this.controlSegments)},l.updateShowTangents=function(t){this.showTangents=t,t&&this.tangentMode!==lt.Automatic?(this.drawTangents(this.controlSegments),this.restoreMeshRenderers()):(this.clearTangents(),console.log("kek"),this.removeMeshRenderers(!0,!0));for(var n,e=r(this.controlSegments);!(n=e()).done;){var o=n.value;o.startPoint&&(o.startPoint.active=t),o.endPoint&&(o.endPoint.active=t),o.startTangent&&(o.startTangent.active=t&&this.tangentMode!==lt.Automatic),o.endTangent&&(o.endTangent.active=t&&this.tangentMode!==lt.Automatic)}this.curveRenderer.active=t},l.updateShowAllTangents=function(t){this.showAllTangents=t,t?(this.restoreMeshRenderers(),this.drawTangents(this.controlSegments)):(this.clearTangents(),this.removeMeshRenderers(!0,!1))},l.updateSelectedNode=function(t){this.selectedNodeUUID!==t&&(this.selectedNodeUUID=t,this.drawTangents(this.controlSegments),console.log(t))},l.updateHandleSize=function(t){this.handleSize=t,this.updateHandleSizes()},l.updatePointColor=function(t){this.pointColor=(new P).fromHEX(t),this.updateAllPointColors(),console.log(this.pointColor),this.updateVisual()},l.updateVisual=function(t){var n=this;void 0===t&&(t=100),this.clearTangents(),this.removeMeshRenderers(),setTimeout((function(){n.restoreMeshRenderers(),n.drawTangents(n.controlSegments)}),t)},l.updateTangentMode=function(t){this.tangentMode=lt[t],this.tangentMode===lt.Automatic?(this.clearTangents(),this.removeMeshRenderers(!0,!1),this.autoSetAllAnchorControlPoints(5)):(this.drawTangents(this.controlSegments),this.restoreMeshRenderers())},l.updateAllTangentColors=function(){var t=this;this.tangentLines.forEach((function(n,e){var o=n.getComponent(g);o&&o.color&&(o.color.color=e%2==0?t.firstTangentColor:t.secondTangentColor)}))},l.updateMainLineColor=function(t){this.mainLineColor=(new P).fromHEX(t),this.drawSplineCurve(this.controlSegments)},l.updateFirstTangentColor=function(t){this.firstTangentColor=(new P).fromHEX(t),this.drawTangents(this.controlSegments),this.updateAllTangentColors()},l.updateSecondTangentColor=function(t){this.secondTangentColor=(new P).fromHEX(t),this.drawTangents(this.controlSegments),this.updateAllTangentColors()},l.updateHandleSizes=function(){var t=this;this.controlSegments.forEach((function(n){n.startPoint&&n.startPoint.setScale(t.handleSize,t.handleSize,t.handleSize),n.endPoint&&n.endPoint.setScale(t.handleSize,t.handleSize,t.handleSize),n.startTangent&&n.startTangent.setScale(t.handleSize,t.handleSize,t.handleSize),n.endTangent&&n.endTangent.setScale(t.handleSize,t.handleSize,t.handleSize)}))},l.updateTangentPositions=function(t,n){var e=t.children.filter((function(t){return t.name.startsWith("Tangent")})).find((function(t){return t!==n}));if(e)switch(this.lastOppositeTangent=e,this.tangentMode){case lt.Automatic:this.autoSetAllAnchorControlPoints(5);break;case lt.Aligned:var o=n.worldPosition.clone().subtract(t.worldPosition).normalize(),i=e.worldPosition.clone().subtract(t.worldPosition).length();e.setPosition(o.x*-i,o.y*-i,o.z*-i);break;case lt.Mirrored:var r=n.position.clone();e.setPosition(r.multiplyScalar(-1));break;case lt.Free:}},l.autoSetAllAnchorControlPoints=function(t){void 0===t&&(t=.3);for(var n=this.getAnchorPoints(),e=0;e<n.length;e++)this.autoSetAnchorControlPoints(e,n,t);this.drawSplineCurve(this.controlSegments),this.drawTangents(this.controlSegments)},l.autoSetAnchorControlPoints=function(t,n,e){void 0===e&&(e=.3);var o=n[t],i=o.worldPosition.clone(),r=1e-4,a=o.getChildByName("TangentStart-"+o.name),s=o.getChildByName("TangentEnd-"+o.name);if(0===t&&s&&n.length>1){var l=n[t+1].worldPosition.clone().subtract(i);if(l.lengthSqr()>r){var d=l.normalize();s.setPosition(d.multiplyScalar(-l.length()*e))}}else if(t===n.length-1&&a&&n.length>1){var h=n[t-1].worldPosition.clone(),c=i.subtract(h);if(c.lengthSqr()>r){var g=c.normalize();a.setPosition(g.multiplyScalar(c.length()*e))}}else{var u=new p,f=0,P=0;if(t>0){var m=n[t-1].worldPosition.clone(),v=i.clone().subtract(m);v.lengthSqr()>r&&(u.add(v.normalize()),f=v.length())}if(t<n.length-1){var S=n[t+1].worldPosition.clone().clone().subtract(i);S.lengthSqr()>r&&(u.add(S.normalize()),P=S.length())}u.lengthSqr()<r?u.set(1,0,0):u.normalize(),a&&a.setPosition(u.clone().multiplyScalar(f*e)),s&&s.setPosition(u.clone().multiplyScalar(-P*e))}},l.colorToHex=function(t){return("#"+("0"+t.r.toString(16)).slice(-2)+("0"+t.g.toString(16)).slice(-2)+("0"+t.b.toString(16)).slice(-2)).toUpperCase()},l.removeMeshRenderers=function(t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);for(var e,o=r(this.controlSegments);!(e=o()).done;){var i=e.value;if(n){if(i.startPoint){var a=i.startPoint.getComponent(m);a&&a.destroy()}if(i.endPoint){var s=i.endPoint.getComponent(m);s&&s.destroy()}}if(t){if(i.startTangent){var l=i.startTangent.getComponent(m);l&&l.destroy()}if(i.endTangent){var d=i.endTangent.getComponent(m);d&&d.destroy()}}}},l.restoreMeshRenderers=function(){for(var t,n=r(this.controlSegments);!(t=n()).done;){var e=t.value;e.startPoint&&this.addMeshRenderer(e.startPoint,!1),e.endPoint&&this.addMeshRenderer(e.endPoint,!1),e.startTangent&&this.tangentMode!==lt.Automatic&&this.addMeshRenderer(e.startTangent,!0),e.endTangent&&this.tangentMode!==lt.Automatic&&this.addMeshRenderer(e.endTangent,!0)}},l.addMeshRenderer=function(t,n){var e=t.getComponent(m);if(!e){var o,i;(e=t.addComponent(m)).material=this.handleMaterial;var r=n?null==(o=this.tangent)?void 0:o.data.getComponent(m):null==(i=this.handle)?void 0:i.data.getComponent(m);r?e.mesh=r.mesh:console.error("[Spline] Ошибка: MeshRenderer не найден в префабе!")}},l.getPointAtDistance=function(t,n){if(void 0===n&&(n=!0),!this.controlSegments||0===this.controlSegments.length)return console.warn("[Spline] getPointAtDistance: нет сегментов!"),new p(0,0,0);for(var e=[],o=0;o<this.controlSegments.length;o++){var i=this.controlSegments[o];if(i.startPoint&&i.endPoint&&i.startTangent&&i.endTangent){var r=this.generateBezierSegment(i.startPoint.worldPosition,i.startTangent.worldPosition,i.endTangent.worldPosition,i.endPoint.worldPosition);o>0&&r.length>0&&r.shift(),e.push.apply(e,r)}}if(e.length<2)return console.warn("[Spline] getPointAtDistance: Недостаточно точек."),new p(0,0,0);for(var a=[0],s=0,l=1;l<e.length;l++){s+=p.distance(e[l-1],e[l]),a.push(s)}if(n&&t>=s)return e[e.length-1].clone();if(t<=0)return e[0].clone();for(var d=1;d<a.length&&a[d]<t;)d++;if(d>=a.length)return e[e.length-1].clone();var h=a[d]-a[d-1],c=(t-a[d-1])/h,g=new p;return p.lerp(g,e[d-1],e[d],c),g},l.moveObjectAlongBezierCurve=function(t,n){if(t&&0!==this.controlSegments.length){for(var e=[],o=0;o<this.controlSegments.length;o++){var i=this.controlSegments[o];if(i.startPoint&&i.endPoint&&i.startTangent&&i.endTangent){var r=this.generateBezierSegment(i.startPoint.worldPosition,i.startTangent.worldPosition,i.endTangent.worldPosition,i.endPoint.worldPosition);o>0&&r.length>0&&r.shift(),e.push.apply(e,r)}}if(e.length<2)console.warn("[Spline] Недостаточно точек для движения.");else{for(var a=[0],s=0,l=1;l<e.length;l++){s+=p.distance(e[l-1],e[l]),a.push(s)}if(0!==s){for(var d=[],h=s/(e.length-1),c=0;c<e.length;c++){for(var g=c*h,u=1;u<a.length&&a[u]<g;)u++;if(!(u>=a.length)){var f=(g-a[u-1])/(a[u]-a[u-1]),P=new p;e[u-1]&&e[u]?(p.lerp(P,e[u-1],e[u],f),d.push(P)):console.warn("[Spline] Пропущена интерполяция: j="+u+", totalPoints[j-1] или totalPoints[j] отсутствует.")}}if(d.length<2)console.warn("[Spline] Недостаточно точек после интерполяции.");else{var m=n/(d.length-1);t.setPosition(d[0]);for(var v=T(t),S=1;S<d.length;S++)v.to(m,{position:d[S]},{easing:"linear"});v.start()}}else console.warn("[Spline] Общая длина кривой 0, движение невозможно.")}}else console.warn("[Spline] Нет объекта или сегментов для движения.")},n}(w)).prototype,"tangentMode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(_.prototype,"controlSegments",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=n(_.prototype,"lineRenderer",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(_.prototype,"curveResolution",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),K=n(_.prototype,"showTangents",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Q=n(_.prototype,"showAllTangents",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=n(_.prototype,"handle",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(_.prototype,"handleSize",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),tt=n(_.prototype,"pointColor",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new P(35,140,0)}}),nt=n(_.prototype,"mainLineColor",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new P(66,206,22)}}),et=n(_.prototype,"firstTangentColor",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new P(255,0,0)}}),ot=n(_.prototype,"secondTangentColor",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new P(193,0,126)}}),X=_))||X)||X));l._RF.pop()}}}));

System.register("chunks:///_virtual/SplineExampleMover.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Spline.ts"],(function(e){var n,i,r,t,o,l,a,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Component},function(e){p=e.Spline}],execute:function(){var c,s,u,f,v,h;o._RF.push({},"d2a28rn//ZL3aINbbxpU1gE","SplineExampleMover",void 0);var y=l.ccclass,b=l.property;e("SplineExampleMover",(c=y("SplineExampleMover"),s=b(p),c((v=n((f=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=e.call.apply(e,[this].concat(o))||this,r(n,"spline",v,t(n)),r(n,"duration",h,t(n)),n.timer=0,n}return i(n,e),n.prototype.start=function(){this.spline?this.spline.moveObjectAlongBezierCurve(this.node,this.duration):console.warn("Spline не назначен для Player.")},n}(a)).prototype,"spline",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=n(f.prototype,"duration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),u=f))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/StartScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenBase.ts"],(function(e){var t,r,n,c;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator},function(e){c=e.ScreenBase}],execute:function(){var s;r._RF.push({},"390d6AQx89DX6OPaVtfftR6","StartScreen",void 0);var a=n.ccclass;e("StartScreen",a("StartScreen")(s=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r}(c))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/StaticBatching.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,a,n,r,c,l,s,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,c=t.Node,l=t.BatchingUtility,s=t.MeshRenderer,h=t.Component}],execute:function(){var u,d,p,b,f,g,R,y,S;n._RF.push({},"18c44d3lX9C75lLWDep8eMq","StaticBatching",void 0);var w=r.ccclass,v=r.property;t("StaticBatching",(u=w("StaticBatching"),d=v({type:c}),p=v({type:c}),u((g=e((f=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,o(e,"staticModelRoot",g,a(e)),o(e,"batchedRoot",R,a(e)),o(e,"isReceiveShadow",y,a(e)),o(e,"isCastShadow",S,a(e)),e}return i(e,t),e.prototype.start=function(){if(this.staticModelRoot&&this.batchedRoot)if(l.batchStaticModel(this.staticModelRoot,this.batchedRoot)){console.log("Static batching completed successfully!");var t=this.batchedRoot.getComponent(s);t.receiveShadow=this.isReceiveShadow?1:0,t.shadowCastingMode=this.isCastShadow?1:0}else console.log("Static batching failed.");else console.error("staticModelRoot or batchedRoot is not set!")},e}(h)).prototype,"staticModelRoot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(f.prototype,"batchedRoot",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(f.prototype,"isReceiveShadow",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=e(f.prototype,"isCastShadow",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=f))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/StationButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseButton.ts","./TweenAnimation.ts","./Audio.ts","./Train.ts"],(function(t){var n,e,i,o,r,a,c,s,u,l,p,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Node,s=t.Vec3},function(t){u=t.BaseButton},function(t){l=t.TweenAnimation},function(t){p=t.Audio},function(t){f=t.Train}],execute:function(){var h,d,E,y,g,T,S;r._RF.push({},"12d7feoSi5Jabw/k3fd1ynl","StationButton",void 0);var v=a.ccclass,C=a.property;t("StationButton",(h=v("StationButton"),d=C(f),E=C(c),h((T=n((g=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"train",T,o(n)),i(n,"target",S,o(n)),n.CLICKED_EVENT="clickedEvent",n}e(n,t);var r=n.prototype;return r.start=function(){},r.onClicked=function(){var n,e=this;(t.prototype.onClicked.call(this),p.instance.PlaySoundOneShot("Click"),null!=this.target)?(this.train.spaceshipsController.setTargetForTurrets(this.target),null!=(n=this.target)&&n.isValid&&this.target.once(c.EventType.NODE_DESTROYED,(function(){e.node.emit(e.CLICKED_EVENT,e),e.target=null}))):this.node.emit(this.CLICKED_EVENT,this)},r.show=function(){p.instance.PlaySound("StationAppearance"),l.scaleTo(this.node,s.ONE,.5)},r.hide=function(){l.scaleTo(this.node,s.ZERO,.5)},n}(u)).prototype,"train",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(g.prototype,"target",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/StationSettings.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t._decorator,o=t.CCFloat}],execute:function(){var a,c,s,l,p;n._RF.push({},"7b6f7JQwEhBHZpBYhJGgB1R","StationSettings",void 0);var u=r.ccclass,g=r.property;t("StationSettings",(a=u("StationSettings"),c=g({group:{name:"StationSettings",id:"1"},type:o}),a((p=e((l=function(){i(this,"distance",p,this)}).prototype,"distance",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l))||s));n._RF.pop()}}}));

System.register("chunks:///_virtual/TemplatePostProcessingPass%20(5).ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,a,n,s,o,l,u,p,c,m,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.createClass,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,l=e.postProcess,u=e.Color,p=e.CCFloat,c=e.Material,m=e.gfx,h=e.rendering}],execute:function(){var g,y,b,d,P,f,v,w,C,z,S,A,O,x,M,_,k,T,R,D,F,V,B,E,I,L,N,j,U,q,G,H,J;s._RF.push({},"404aaPcMEVPt41LerkiUT3R","TemplatePostProcessingPass%20(5)",void 0);var K=o.ccclass,Q=o.property,W=o.menu,X=l.SettingPass,Y=l.PostProcessSetting,Z=l.BlitScreenPass,$=(l.ForwardPass,e("AzurPostProcess",(g=K("AzurPostProcess"),y=W("PostProcess/AzurPostProcess"),b=Q({group:{name:"Main",id:1,displayOrder:1,type:u}}),d=Q({group:{name:"Main",id:1,displayOrder:1}}),P=Q({group:{name:"Main",id:1,displayOrder:1}}),f=Q({group:{name:"Main",id:1,displayOrder:1}}),v=Q({group:{name:"Main",id:1,displayOrder:1}}),w=Q({group:{name:"Main",id:1,displayOrder:1}}),C=Q({group:{name:"Main",id:1,displayOrder:1},type:p,slide:!0,min:0,max:1,step:.01}),z=Q({group:{name:"ChromaticAbberation",id:2,displayOrder:1},type:p,slide:!0,min:0,max:1,step:.01}),S=Q({group:{name:"ChromaticAbberation",id:2,displayOrder:1},type:p,slide:!0,min:0,max:2,step:.01}),A=Q({group:{name:"Vignette",id:3,displayOrder:1}}),O=Q({group:{name:"Vignette",id:3,displayOrder:1}}),x=Q({group:{name:"Temperature",id:4,displayOrder:1}}),M=Q({group:{name:"Temperature",id:4,displayOrder:1,type:u}}),_=Q(c),k=Q(c),g(T=y((D=t((R=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,a(t,"tint",D,n(t)),a(t,"hue",F,n(t)),a(t,"saturation",V,n(t)),a(t,"brigthness",B,n(t)),a(t,"contrast",E,n(t)),a(t,"exposure",I,n(t)),a(t,"grayScale",L,n(t)),a(t,"chromaticAberration",N,n(t)),a(t,"center",j,n(t)),a(t,"vignette",U,n(t)),a(t,"vignetteSharpness",q,n(t)),a(t,"temperature",G,n(t)),a(t,"temperatureColor",H,n(t)),a(t,"_material",J,n(t)),t}return r(t,e),i(t,[{key:"material",get:function(){return this._material},set:function(e){this._material=e}}]),t}(Y)).prototype,"tint",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(255,255,255,255)}}),F=t(R.prototype,"hue",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=t(R.prototype,"saturation",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),B=t(R.prototype,"brigthness",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=t(R.prototype,"contrast",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I=t(R.prototype,"exposure",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=t(R.prototype,"grayScale",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=t(R.prototype,"chromaticAberration",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=t(R.prototype,"center",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=t(R.prototype,"vignette",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=t(R.prototype,"vignetteSharpness",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),G=t(R.prototype,"temperature",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=t(R.prototype,"temperatureColor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(18,86,251,255)}}),J=t(R.prototype,"_material",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t(R.prototype,"material",[k],Object.getOwnPropertyDescriptor(R.prototype,"material"),R.prototype),T=R))||T)||T))),ee=e("CustomPass",function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).name="CustomPass",t.outputNames=["CustomPassColor"],t.tint=new u,t.hue=0,t.saturation=0,t.brigthness=0,t.contrast=0,t.exposure=0,t.grayScale=0,t.chromaticAberration=0,t.center=0,t.vignette=0,t.vignetteSharpness=0,t.temperature=0,t.temperatureColor=new u,t}r(t,e);var a=t.prototype;return a.checkEnable=function(t){var r=this.setting;return r&&r.material&&e.prototype.checkEnable.call(this,t)},a.render=function(e,t){var r=this.getCameraUniqueID(e),i=this.context;i.clearBlack();var a=this.lastPass.slotName(e,0),n=this.slotName(e,0),s=this.setting;this.tint=s.tint,this.hue=s.hue,this.saturation=s.saturation,this.brigthness=s.brigthness,this.contrast=s.contrast,this.exposure=s.exposure,this.grayScale=s.grayScale,this.chromaticAberration=s.chromaticAberration,this.center=s.center,this.vignette=s.vignette,this.vignetteSharpness=s.vignetteSharpness,this.temperature=s.temperature,this.temperatureColor=s.temperatureColor,s.material.setProperty("tint",this.tint),s.material.setProperty("hue",this.hue),s.material.setProperty("saturation",this.saturation),s.material.setProperty("brightness",this.brigthness),s.material.setProperty("contrast",this.contrast),s.material.setProperty("exposure",this.exposure),s.material.setProperty("grayscale",this.grayScale),s.material.setProperty("chromaticAberration",this.chromaticAberration),s.material.setProperty("center",this.center),s.material.setProperty("vignette",this.vignette),s.material.setProperty("vignetteSharpness",this.vignetteSharpness),s.material.setProperty("temperature",this.temperature),s.material.setProperty("temperatureColor",this.temperatureColor),i.material=s.material,i.updatePassViewPort().addRenderPass("post-process",""+this.name+r).setPassInput(a,"inputTexture").addRasterView(n,m.Format.RGBA8).blitScreen(0).version()},i(t,[{key:"setting",get:function(){return this.getSetting($)}}]),t}(X)),te=h.getCustomPipeline("Custom");te&&te.insertPass(new ee,Z),s._RF.pop()}}}));

System.register("chunks:///_virtual/TextChanger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts"],(function(t){var e,n,r,i,o,c,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.Label},function(t){u=t.Action}],execute:function(){var s,l,p,f,h;o._RF.push({},"6094b6uOfhAWpOxntLxVBA4","TextChanger",void 0);var g=c.ccclass,x=c.property;t("TextChanger",(s=g("TextChanger"),l=x(a),s((h=e((f=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,r(e,"_text",h,i(e)),e}n(e,t);var o=e.prototype;return o.doString=function(t){this._text&&(this._text.string=t)},o.do=function(){},o.doNumber=function(t){},e}(u)).prototype,"_text",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Tracks.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TrackStructure.ts"],(function(r){var t,e,i,c,n,a,o,s;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.inheritsLoose,i=r.initializerDefineProperty,c=r.assertThisInitialized},function(r){n=r.cclegacy,a=r._decorator,o=r.Component},function(r){s=r.TrackStructure}],execute:function(){var u,l,p,f,k;n._RF.push({},"b0469In3jRKvrYML2aQvhyj","Tracks",void 0);var y=a.ccclass,h=a.property;r("Tracks",(u=y("Tracks"),l=h({serializable:!0,type:[s],tooltip:"TrackListPls"}),u((k=t((f=function(r){function t(){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n))||this,i(t,"trackList",k,c(t)),t}return e(t,r),t}(o)).prototype,"trackList",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=f))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/TrackStructure.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,i,e,u,o;return{setters:[function(t){r=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){e=t.cclegacy,u=t._decorator,o=t.AudioClip}],execute:function(){var n,a,c,l,p,s,f;e._RF.push({},"0161cVtIOFIuI300Fv9Zgn2","TrackStructure",void 0);var h=u.ccclass,d=u.property;t("TrackStructure",(n=h("TrackStructure"),a=d([o]),n((p=r((l=function(){function t(){i(this,"trackName",p,this),i(this,"volumeClip",s,this),i(this,"audioClip",f,this)}return t.prototype.getAudioClip=function(){var t=Math.floor(Math.random()*this.audioClip.length);return this.audioClip[t]},t}()).prototype,"trackName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=r(l.prototype,"volumeClip",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),f=r(l.prototype,"audioClip",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=l))||c));e._RF.pop()}}}));

System.register("chunks:///_virtual/Train.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Spline.ts","./Audio.ts","./SpaceshipType.ts","./SpaceshipController.ts"],(function(e){var t,i,n,r,o,a,s,c,l,u,p,h,f,d,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.CCFloat,c=e.Vec3,l=e.Node,u=e.tween,p=e.Component},function(e){h=e.Spline},function(e){f=e.Audio},function(e){d=e.Spaceship},function(e){b=e.SpaceshipController}],execute:function(){var S,g,y,m,v,w,T,A,D,z,C,E,O,P,_,k,I,N,R,F,H,L,W,j,M;o._RF.push({},"6c051l5P+5Gj7eLbN5Mi1+K","Train",void 0);var x=a.ccclass,B=a.property;e("Train",(S=x("Train"),g=B(s),y=B(h),m=B(s),v=B(c),w=B(l),T=B([d]),A=B(l),D=B([l]),z=B(b),C=B(s),E=B(s),S((_=t((P=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"distance",_,r(t)),n(t,"spline",k,r(t)),n(t,"trainSpeed",I,r(t)),n(t,"offsetTrainFollow",N,r(t)),n(t,"trainTarget",R,r(t)),n(t,"spaceships",F,r(t)),n(t,"winSpaceship",H,r(t)),n(t,"effects",L,r(t)),n(t,"spaceshipsController",W,r(t)),n(t,"currentDistance",j,r(t)),n(t,"lookAheadOffset",M,r(t)),t.currentStation=void 0,t.move=void 0,t.STATION_REACHED="station-reached",t}i(t,e);var o=t.prototype;return o.start=function(){this.currentDistance=this.distance,this.node.emit(this.STATION_REACHED)},o.setSpeed=function(e){this.trainSpeed=e},o.goTo=function(e){var i=this;this.currentStation=e;var n=(this.currentStation.distance-this.distance)/this.trainSpeed,r=this.currentStation.distance;return null!=this.move&&this.move.stop(),this.currentStation.distance-this.distance==4.5?(this.node.emit(this.STATION_REACHED),!1):(this.move=u(this.node.getComponent(t)).delay(.5).call((function(){})).to(n,{distance:r},{easing:"sineInOut"}).call((function(){i.node.emit(i.STATION_REACHED)})),f.instance.StopLoopSound(),this.move.start(),u(this.node).delay(.8*n).call((function(){f.instance.PlaySoundOneShot("TrainStop")})).start(),!0)},o.update=function(e){this.currentDistance=this.distance;var t=this.spline.getPointAtDistance(this.currentDistance),i=this.spline.getPointAtDistance(this.currentDistance+this.lookAheadOffset);this.node.lookAt(i,c.UP),this.node.setWorldPosition(c.lerp(new c,this.node.getWorldPosition(),t,.1))},o.changeSpaceshipSkin=function(e){this.spaceships.forEach((function(t){t.node.active=t.spaceshipType==e}))},o.engineStatus=function(e){this.effects.forEach((function(t){t.active=e}))},o.showWinSpaceship=function(){var e=this;this.spaceships.forEach((function(t){t.node.active=!1,e.winSpaceship.active=!0}))},t}(p)).prototype,"distance",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(P.prototype,"spline",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(P.prototype,"trainSpeed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),N=t(P.prototype,"offsetTrainFollow",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0)}}),R=t(P.prototype,"trainTarget",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(P.prototype,"spaceships",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(P.prototype,"winSpaceship",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(P.prototype,"effects",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(P.prototype,"spaceshipsController",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(P.prototype,"currentDistance",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(P.prototype,"lookAheadOffset",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),O=P))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/TrainAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var n,t,a,e,r,o,l,u,c,s,p,m;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.initializerDefineProperty,a=i.inheritsLoose,e=i.assertThisInitialized},function(i){r=i.cclegacy,o=i._decorator,l=i.AnimationClip,u=i.Material,c=i.Animation,s=i.Color,p=i.tween,m=i.Component}],execute:function(){var h,f,y,b,d,g,T,v,w,A,D,x,C,I,H,z;r._RF.push({},"0d34cXkHrBApa5s/pLvh7PK","TrainAnimation",void 0);var M=o.ccclass,P=o.property,E=(h=M("TrainAnimationData"),f=P(l),y=P([u]),h((g=n((d=function(){t(this,"animationClip",g,this),t(this,"materials",T,this)}).prototype,"animationClip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(d.prototype,"materials",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=d))||b);i("TrainAnimation",(v=M("TrainAnimation"),w=P([E]),A=P(c),v((C=n((x=function(i){function n(){for(var n,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=i.call.apply(i,[this].concat(r))||this,t(n,"animationData",C,e(n)),t(n,"animation",I,e(n)),t(n,"cycleDuration",H,e(n)),t(n,"transitionDuration",z,e(n)),n.indexAnimation=0,n.currentMaterialIndex=0,n.currentTween=null,n}a(n,i);var r=n.prototype;return r.start=function(){this.animation=this.getComponent(c)},r.stopTrainHead=function(){this.animation.stop(),this.currentTween.stop(),this.currentTween=null;var i=new s(s.WHITE.r,s.WHITE.g,s.WHITE.b,s.WHITE.a);this.animationData[this.indexAnimation].materials.forEach((function(n){n.setProperty("mainColor",i)})),this.indexAnimation++,this.currentMaterialIndex=0},r.playTrainHead=function(){var i=this.animationData[this.indexAnimation].animationClip.name;this.animation.play(i),this.changeOpacity()},r.changeOpacity=function(){var i=this,n=this.animationData[this.indexAnimation].materials[this.currentMaterialIndex],t=s.WHITE,a={value:t.a},e=new s(t.r,t.g,t.b,t.a);n.setProperty("mainColor",e),this.currentTween=p(a).delay(this.cycleDuration).to(this.transitionDuration,{value:0},{onUpdate:function(){var i=new s(t.r,t.g,t.b,a.value);n.setProperty("mainColor",i)}}).call((function(){if(i.currentMaterialIndex=(i.currentMaterialIndex+1)%i.animationData[i.indexAnimation].materials.length,i.changeOpacity(),0==i.indexAnimation){var a=new s(t.r,t.g,t.b,t.a);n.setProperty("mainColor",a)}})).start()},n}(m)).prototype,"animationData",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=n(x.prototype,"animation",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=n(x.prototype,"cycleDuration",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.67}}),z=n(x.prototype,"transitionDuration",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.33}}),D=x))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/Trains.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Train.ts"],(function(r){var n,t,i,e,a,o,s,c;return{setters:[function(r){n=r.applyDecoratedDescriptor,t=r.inheritsLoose,i=r.initializerDefineProperty,e=r.assertThisInitialized},function(r){a=r.cclegacy,o=r._decorator,s=r.Component},function(r){c=r.Train}],execute:function(){var u,l,p,d,f;a._RF.push({},"24396ZEW8dKBbXqRMYrZlXb","Trains",void 0);var h=o.ccclass,T=o.property;r("Trains",(u=h("Trains"),l=T([c]),u((f=n((d=function(r){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a))||this,i(n,"trains",f,e(n)),n.currentTrainIndex=0,n}return t(n,r),n.prototype.nextTrain=function(){this.trains[this.currentTrainIndex].node.active=!1,this.currentTrainIndex++,this.trains[this.currentTrainIndex].node.active=!0},n}(s)).prototype,"trains",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=d))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/TurretController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BulletSpawner.ts","./Health.ts"],(function(t){var e,r,o,i,n,a,l,u,s,h,c,p,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,l=t.Node,u=t.Vec3,s=t.math,h=t.Quat,c=t.Component},function(t){p=t.BulletSpawner},function(t){g=t.Health}],execute:function(){var f,w,d,S,b,R,v,m,Y,y,N,C,T;n._RF.push({},"adcacKSYuFLVJkxCgxHOtX/","TurretController",void 0);var A=a.ccclass,z=a.property;t("TurretController",(f=A("TurretController"),w=z(l),d=z(l),S=z([p]),f((v=e((R=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"targetNode",v,i(e)),o(e,"turretShoulder",m,i(e)),o(e,"bulletSpawners",Y,i(e)),o(e,"rotationRollSpeed",y,i(e)),o(e,"rotationYawSpeed",N,i(e)),o(e,"fireRate",C,i(e)),o(e,"allowShooting",T,i(e)),e.targetRoll=0,e.currentRoll=0,e.rotationRollComplete=!0,e.targetYaw=0,e.currentYaw=0,e.rotationYawComplete=!0,e}r(e,t);var n=e.prototype;return n.start=function(){},n.update=function(t){null!=this.targetNode?this.targetNode.isValid?this.targetNode.getComponent(g).health>=0?(this.lookRollAtTarget(this.targetNode,t),this.lookYawAtTarget(t)):(this.targetNode=null,this.stopShooting()):(this.stopShooting(),this.targetNode=null):(this.lookRollAtTarget(this.targetNode,t),this.lookYawAtTarget(t))},n.setTarget=function(t){this.targetNode=t},n.lookRollAtTarget=function(t,e){if(null==t)this.targetRoll=0;else{var r=t.worldPosition,o=this.turretShoulder.worldPosition,i=new u;if(u.subtract(i,r,o),u.len(i)<s.EPSILON)return;if(this.turretShoulder.parent){var n=new h;h.invert(n,this.turretShoulder.parent.worldRotation),u.transformQuat(i,i,n)}var a=Math.atan2(i.y,i.x);this.targetRoll=180*a/Math.PI}var l=this.currentRoll%360;l>180?l-=360:l<-180&&(l+=360);var c=this.targetRoll-l;if(c>180?c-=360:c<-180&&(c+=360),Math.abs(c)>.1){this.rotationRollComplete=!1;var p=c*e*this.rotationRollSpeed;this.currentRoll=l+p,this.turretShoulder.eulerAngles=new u(0,0,this.currentRoll)}else this.rotationRollComplete||(this.rotationRollComplete=!0)},n.lookYawAtTarget=function(t){if(null==this.targetNode)this.targetYaw=0;else{var e=this.targetNode.worldPosition,r=this.node.worldPosition,o=new u;if(u.subtract(o,e,r),o.y=0,u.len(o)<s.EPSILON)return;if(this.node.parent){var i=new h;h.invert(i,this.node.parent.worldRotation),u.transformQuat(o,o,i)}var n=Math.atan2(o.z,-o.x);this.targetYaw=180*n/Math.PI}var a=this.currentYaw%360;a>180?a-=360:a<-180&&(a+=360);var l=this.targetYaw-a;if(l>180?l-=360:l<-180&&(l+=360),Math.abs(l)>.1){this.rotationYawComplete=!1;var c=l*t*this.rotationYawSpeed;this.currentYaw=a+c;var p=this.node.eulerAngles;this.node.eulerAngles=new u(p.x,this.currentYaw,p.z)}else this.rotationYawComplete||(this.rotationYawComplete=!0,this.allowShooting&&this.fireAtTarget())},n.fireAtTarget=function(){var t=this;this.bulletSpawners.forEach((function(e){e.startSpawningBullet(t.targetNode,t.fireRate)}))},n.stopShooting=function(){this.allowShooting=!1,this.bulletSpawners.forEach((function(t){t.stopSpawningBullet()}))},e}(c)).prototype,"targetNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(R.prototype,"turretShoulder",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(R.prototype,"bulletSpawners",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=e(R.prototype,"rotationRollSpeed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),N=e(R.prototype,"rotationYawSpeed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),C=e(R.prototype,"fireRate",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=e(R.prototype,"allowShooting",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=R))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/TurretHealth.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,a,n,o,l,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,l=t.ProgressBar,h=t.Component}],execute:function(){var c,s,u,p,f,v;n._RF.push({},"833c9V5AMBLQr7wojMLbTBG","TurretHealth",void 0);var d=o.ccclass,y=o.property;t("TurretHealth",(c=d("TurretHealth"),s=y(l),c((f=e((p=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,i(e,"hpBar",f,a(e)),i(e,"health",v,a(e)),e.isAlive=!0,e}r(e,t);var n=e.prototype;return n.onLoad=function(){this.hpBar.node.active=!1},n.start=function(){},n.lateUpdate=function(t){this.hpBar.progress=this.health,this.health<=0&&(this.isAlive=!1,this.hpBar.node.parent.active=!1),this.health<1&&(this.hpBar.node.active=!0)},n.update=function(t){},e}(h)).prototype,"hpBar",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(p.prototype,"health",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=p))||u));n._RF.pop()}}}));

System.register("chunks:///_virtual/TweenAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,n,t,i,a,s,r;return{setters:[function(e){o=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,t=e.tween,i=e.Color,a=e.Sprite,s=e.sp,r=e.Label}],execute:function(){n._RF.push({},"4acb5tPDXBBTYGFzNDIPrRa","TweenAnimation",void 0);e("TweenAnimation",function(){function e(){}return e.moveTo=function(e,o,n,i,a){var s=this;void 0===n&&(n=.1),void 0===i&&(i="sineOut"),this.stopPositionTween(e);var r=t(e).to(n,{worldPosition:o},{easing:i}).call((function(){a&&a(),s.clearPositionTweens(e)}));e.__positionTweens||(e.__positionTweens=[]),e.__positionTweens.push(r),r.start()},e.moveToLocal=function(e,o,n,i,a){var s=this;void 0===n&&(n=.1),void 0===i&&(i="sineOut"),this.stopPositionTween(e);var r=t(e).to(n,{position:o},{easing:i}).call((function(){a&&a(),s.clearPositionTweens(e)}));e.__positionTweens||(e.__positionTweens=[]),e.__positionTweens.push(r),r.start()},e.rotateTo=function(e,o,n,i,a){var s=this;void 0===n&&(n=.1),void 0===i&&(i="sineOut"),this.stopRotationTween(e);var r=t(e).to(n,{worldRotation:o},{easing:i}).call((function(){a&&a(),s.clearRotationTweens(e)}));e.__rotationTweens||(e.__rotationTweens=[]),e.__rotationTweens.push(r),r.start()},e.rotateBy=function(e,o,n,i,a){var s=this;void 0===n&&(n=.1),void 0===i&&(i="sineOut"),this.stopRotationTween(e);var r=t(e).by(n,{worldRotation:o},{easing:i}).call((function(){a&&a(),s.clearRotationTweens(e)}));e.__rotationTweens||(e.__rotationTweens=[]),e.__rotationTweens.push(r),r.start()},e.scaleTo=function(e,o,n,i,a){var s=this;void 0===n&&(n=.1),void 0===i&&(i="sineOut"),this.stopScaleTween(e);var r=t(e).to(n,{scale:o},{easing:i}).call((function(){a&&a(),s.clearScaleTweens(e)}));e.__scaleTweens||(e.__scaleTweens=[]),e.__scaleTweens.push(r),r.start()},e.colorToSprite=function(e,o,n,a,s){var r=this;void 0===n&&(n=.1),void 0===a&&(a="sineOut"),this.stopColorSpriteTween(e);var l=e.color,c=t({r:l.r,g:l.g,b:l.b,a:l.a}).to(n,{r:o.r,g:o.g,b:o.b,a:o.a},{easing:a,onUpdate:function(o){e.color=new i(o.r,o.g,o.b,o.a)}}).call((function(){s&&s(),r.clearColorSpriteTweens(e)}));e.__colorSpriteTweens||(e.__colorSpriteTweens=[]),e.__colorSpriteTweens.push(c),c.start()},e.fadeToSprite=function(e,o,n,a,s){var r=this;void 0===n&&(n=.1),void 0===a&&(a="sineOut"),this.stopFadeSpriteTween(e);var l=e.color.a,c=t({opacity:l}).to(n,{opacity:o},{easing:a,onUpdate:function(o){var n=e.color;e.color=new i(n.r,n.g,n.b,o.opacity)}}).call((function(){s&&s(),r.clearFadeSpriteTweens(e)}));e.__fadeSpriteTweens||(e.__fadeSpriteTweens=[]),e.__fadeSpriteTweens.push(c),c.start()},e.fadeToSkeleton=function(e,o,n,a,s){var r=this;void 0===n&&(n=.1),void 0===a&&(a="sineOut"),this.stopFadeSkeletonTween(e);var l=e.color,c=l.a/255,T=t({opacity:c}).to(n,{opacity:o},{easing:a,onUpdate:function(o){e.color=new i(l.r,l.g,l.b,255*o.opacity)}}).call((function(){s&&s(),r.clearFadeSkeletonTweens(e)}));e.__fadeSkeletonTweens||(e.__fadeSkeletonTweens=[]),e.__fadeSkeletonTweens.push(T),T.start()},e.fadeToLabel=function(e,o,n,a,s){var r=this;void 0===n&&(n=.1),void 0===a&&(a="sineOut"),this.stopFadeLabelTween(e);var l=e.color.a,c=t({opacity:l}).to(n,{opacity:o},{easing:a,onUpdate:function(o){var n=e.color;e.color=new i(n.r,n.g,n.b,o.opacity)}}).call((function(){s&&s(),r.clearFadeLabelTweens(e)}));e.__fadeLabelTweens||(e.__fadeLabelTweens=[]),e.__fadeLabelTweens.push(c),c.start()},e.stopPositionTween=function(e){if(e.__positionTweens){for(var n,t=o(e.__positionTweens);!(n=t()).done;){n.value.stop()}this.clearPositionTweens(e)}},e.stopRotationTween=function(e){if(e.__rotationTweens){for(var n,t=o(e.__rotationTweens);!(n=t()).done;){n.value.stop()}this.clearRotationTweens(e)}},e.stopScaleTween=function(e){if(e.__scaleTweens){for(var n,t=o(e.__scaleTweens);!(n=t()).done;){n.value.stop()}this.clearScaleTweens(e)}},e.stopColorSpriteTween=function(e){if(e.__colorSpriteTweens){for(var n,t=o(e.__colorSpriteTweens);!(n=t()).done;){n.value.stop()}this.clearColorSpriteTweens(e)}},e.stopFadeSpriteTween=function(e){if(e.__fadeSpriteTweens){for(var n,t=o(e.__fadeSpriteTweens);!(n=t()).done;){n.value.stop()}this.clearFadeSpriteTweens(e)}},e.stopFadeSkeletonTween=function(e){if(e.__fadeSkeletonTweens){for(var n,t=o(e.__fadeSkeletonTweens);!(n=t()).done;){n.value.stop()}this.clearFadeSkeletonTweens(e)}},e.stopFadeLabelTween=function(e){if(e.__fadeLabelTweens){for(var n,t=o(e.__fadeLabelTweens);!(n=t()).done;){n.value.stop()}this.clearFadeLabelTweens(e)}},e.stopAllTweens=function(e){this.stopPositionTween(e),this.stopRotationTween(e),this.stopScaleTween(e);var o=e.getComponent(a);o&&this.stopFadeSpriteTween(o);var n=e.getComponent(s.Skeleton);n&&this.stopFadeSkeletonTween(n);var t=e.getComponent(r);t&&this.stopFadeLabelTween(t)},e.clearPositionTweens=function(e){e.__positionTweens=[]},e.clearRotationTweens=function(e){e.__rotationTweens=[]},e.clearScaleTweens=function(e){e.__scaleTweens=[]},e.clearColorSpriteTweens=function(e){e.__colorSpriteTweens=[]},e.clearFadeSpriteTweens=function(e){e.__fadeSpriteTweens=[]},e.clearFadeSkeletonTweens=function(e){e.__fadeSkeletonTweens=[]},e.clearFadeLabelTweens=function(e){e.__fadeLabelTweens=[]},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/UIPositionAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,i,r,a,s,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,c=e.Camera,l=e.Vec3,u=e.Component}],execute:function(){var p,d,f,m,g,y,P;r._RF.push({},"dcaaaYRAu5EPKUjtBA4fnQn","UIPositionAdapter",void 0);var v=a.ccclass,h=a.property;e("UIPositionAdapter",(p=v("UIPositionAdapter"),d=h(s),f=h(c),p((y=t((g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"targetNode",y,i(t)),o(t,"mainCamera",P,i(t)),t.updatePosition=function(){if(t.targetNode&&t.mainCamera){if(t.node.active&&0!=t.node.scale.x){var e=t.targetNode.getWorldPosition(),n=new l;t.mainCamera.convertToUINode(e,t.node.parent,n),t.node.setPosition(new l(n.x,n.y,t.node.position.z))}}else console.warn("Target node or camera is not assigned.")},t}return n(t,e),t.prototype.lateUpdate=function(e){this.updatePosition()},t}(u)).prototype,"targetNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(g.prototype,"mainCamera",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/UnhideNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,o,i,r,a,c,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Node,u=e.Component}],execute:function(){var d,l,s,p,f;r._RF.push({},"ffa7evFGz9I3r1nq2z89iFr","UnhideNode",void 0);var h=a.ccclass,v=a.property;e("UnhideNode",(d=h("UnhideNode"),l=v(c),d((f=n((p=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,o(n,"nodeToUnhide",f,i(n)),n}t(n,e);var r=n.prototype;return r.start=function(){},r.onLoad=function(){this.nodeToUnhide.active=!0},r.update=function(e){},n}(u)).prototype,"nodeToUnhide",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=p))||s));r._RF.pop()}}}));

System.register("chunks:///_virtual/WinScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenBase.ts"],(function(e){var n,t,c,r,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,c=e._decorator,r=e.Vec3},function(e){o=e.ScreenBase}],execute:function(){var s;t._RF.push({},"713f6XChZZHY5yvSrtc8+tt","WinScreen",void 0);var i=c.ccclass;c.property,e("WinScreen",i("WinScreen")(s=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.show=function(){e.prototype.show.call(this),this.node.scale=new r(1,this.node.scale.y,this.node.scale.z)},t}(o))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/YawLookAt.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,a,o,n,i,s,l,u,c,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,i=t._decorator,s=t.Node,l=t.Vec3,u=t.math,c=t.Quat,w=t.Component}],execute:function(){var p,h,d,Y,f,g;n._RF.push({},"1fc8e/Xcu5I77UBuR87FTMG","YawLookAt",void 0);var v=i.ccclass,y=i.property;t("YawTowardTarget",(p=v("YawTowardTarget"),h=y({type:s}),p((f=e((Y=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n))||this,a(e,"targetNode",f,o(e)),a(e,"rotationYawSpeed",g,o(e)),e.targetYaw=0,e.currentYaw=0,e.rotationYawComplete=!0,e}r(e,t);var n=e.prototype;return n.start=function(){this.currentYaw=this.node.eulerAngles.y},n.update=function(t){this.lookYawAtTarget(t)},n.lookYawAtTarget=function(t){if(this.targetNode){var e=this.targetNode.worldPosition,r=this.node.worldPosition,a=new l;if(l.subtract(a,e,r),a.y=0,!(l.len(a)<u.EPSILON)){if(this.node.parent){var o=new c;c.invert(o,this.node.parent.worldRotation),l.transformQuat(a,a,o)}var n=Math.atan2(a.z,-a.x);this.targetYaw=180*n/Math.PI;var i=this.currentYaw%360;i>180?i-=360:i<-180&&(i+=360);var s=this.targetYaw-i;if(s>180?s-=360:s<-180&&(s+=360),Math.abs(s)>.1){this.rotationYawComplete=!1;var w=s*t*this.rotationYawSpeed;this.currentYaw=i+w;var p=this.node.eulerAngles;this.node.eulerAngles=new l(p.x,this.currentYaw,p.z)}else this.rotationYawComplete||(this.rotationYawComplete=!0,console.log("Yaw rotated"))}}},e}(w)).prototype,"targetNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(Y.prototype,"rotationYawSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),d=Y))||d));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});